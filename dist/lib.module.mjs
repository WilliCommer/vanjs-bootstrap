import n from"vanjs-core";import{Modal as e}from"bootstrap";function t(){return t=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t.apply(this,arguments)}function r(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)e.indexOf(t=o[r])>=0||(a[t]=n[t]);return a}var a=n.tags.option,o=console.warn;function l(n,e,t){return n&&!Array.isArray(n)&&"object"==typeof n&&n.value&&(n=function(n){var e=n.value,t=n.text;return e?(e=i(e,!0),t=i(t,!1),e.map(function(n,e){return{value:n,text:t[e]}})):[]}(n)),n=(n=i(n||[],!0)).map(function(n){var e={value:"",children:""};return n?Array.isArray(n)?(n.length>0&&(e.value=n[0],e.children=n[0]),n.length>1&&(e.value=n[1]),e):"object"==typeof n?(e.value=n.value,e.children=n.value,["children","text","displayValue"].some(function(t){return void 0!==n[t]&&(e.children=n[t],!0)}),e):(e.value=n,e.children=n,e):e}),e?n.map(function(n){var e={value:n.value};return void 0!==t&&n.value===t&&(e.selected=!0),a(e,n.children)}):n}function i(n,e){return n?("string"==typeof n&&(n=n.split(",")),Array.isArray(n)||(e&&o("parseSelectOptions value invalid"),n=[]),n):[]}var s=["class","bsSize"],c=["class","bsSize","col"],u=["class","bsSize"],d=["class","bsSize"],v=["options"],f=["options","class","bsSize","inline","id"],p=["label","type","class","style","bsSize","reverse","id","value"],g=["options","style","bsSize","onItemClick"],m=["name","label","input","class","bsSize","cols","id"],h=["name","value","oninput"],b=["bsSize","class","color","outline","dropdown","type"],y=n.tags,w=y.a,k=y.button,D=y.div,S=y.input,z=y.label,C=y.textarea,x=y.li,I=y.ul,O=y.select,A=new Map;function L(e){var a=e.class,o=e.bsSize,l=r(e,s);return S(t({class:function(){var e="form-control";return n.val(o)&&(e+=" form-control-"+n.val(o)),n.val(a)&&(e+=" "+n.val(a)),e}},l))}function M(e,a){var o=e.class,l=e.bsSize,i=e.col,s=r(e,c);return z(t({class:function(){var e="form-label";return n.val(i)?(e="col-form-label",n.val(l)?e+=" col-"+n.val(l)+"-"+n.val(i)+" col-form-label-"+n.val(l):e+=" col-"+n.val(i)):n.val(l)&&(e+=" col-form-label-"+n.val(l)),n.val(o)&&(e+=" "+n.val(o)),e}},s),a)}function E(e){var a=e.class,o=e.bsSize,i=r(e,d),s=i.options,c=void 0===s?[]:s,u=r(i,v);return c="function"!=typeof c?l(c,!0,i.value):c(),O(t({class:function(){var e="form-select";return n.val(o)&&(e+=" form-select-"+n.val(o)),n.val(a)&&(e+=" "+n.val(a)),e}},u),c)}function P(e){var t=e.options,a=e.class,o=e.bsSize,i=e.inline,s=e.id,c=r(e,f),u=c.name||Math.random().toString(36).substring(2,9);s=s||"rgi_"+u,t=l(t);var d=function(n){c.oninput&&c.oninput({target:{name:u,value:n.target.value,type:"radiogroup"}})},v=t.map(function(n,e){var t=s+"_"+e;return D({class:"form-check"+(i?" form-check-inline":"")},S({class:"form-check-input",type:"radio",id:t,value:n.value,name:u,checked:c.value===n.value,oninput:d}),z({class:"form-check-label",for:t},n.children))});return D({class:function(){var e="form-control";return n.val(o)&&(e+=" form-control-"+n.val(o)),n.val(a)&&(e+=" "+n.val(a)),e}},v)}function H(e){var a=e.label,o=e.type,l=e.class,i=e.style,s=e.bsSize,c=e.reverse,u=e.id,d=e.value,v=r(e,p);u=u||Math.random().toString(36).substring(2,9);var f="switch"===o;return f&&(o="checkbox"),D({class:function(){var e="form-check";return f&&(e+=" form-switch"),n.val(s)&&(e+=" form-control-"+n.val(s)),n.val(c)&&(e+=" form-check-reverse"),n.val(l)&&(e+=" "+n.val(l)),e},style:i},S(t({},v,{class:"form-check-input",id:u,type:o,checked:d||!1,oninput:function(n){var e=n.target,t=e.checked;v.oninput({target:{value:t=!!t,checked:t,name:e.name,type:e.type}})},role:f?"switch":void 0})),function(){return a?z({class:"form-check-label",for:u},a):null})}A.set("text",L),A.set("textarea",function(e){var a=e.class,o=e.bsSize,l=r(e,u);return C(t({class:function(){var e="form-control";return n.val(o)&&(e+=" form-control-"+n.val(o)),n.val(a)&&(e+=" "+n.val(a)),e}},l))}),A.set("select",E),A.set("radioselect",P),A.set("checkbox",H),A.set("radio",H),A.set("switch",H),A.set("combobox",V);var T=function(n){return H(t({},n,{type:"switch"}))},j=function(n){return H(t({},n,{type:"checkbox"}))},N=function(n){return H(t({},n,{type:"radio"}))};function V(e){var a=e.options,o=void 0===a?[]:a,i=e.onItemClick,s=r(e,g);o=l(o);var c=n.state(d(o,n.val(e.value)));function u(n,e){var t=n.find(function(n){return n.children===e});return t&&(e=t.value),e}function d(n,e){var t=n.find(function(n){return n.value===e});return t&&(e=t.children),e}return D({style:n.val(e.style),class:function(){var t="input-group";return n.val(e.bsSize)&&(t+=" input-group-"+n.val(e.bsSize)),n.val(e.class)&&(t+=" "+n.val(e.class)),t}},L(t({},s,{value:c,oninput:function(n){var t=n.target.value;c.val=t,e.oninput({target:{value:u(o,t),name:e.name,type:e.type}})}})),D({class:"dropdown"},k({class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}),I({class:"dropdown-menu"},o.map(function(n){return x(w({class:"dropdown-item",href:"#",onclick:function(){return function(n){var t=e.name,r=e.type;if(n=u(o,n),i){var a=o.find(function(e){return e.children===n});n=i(n,a)}return e.oninput({target:{name:t,value:n,type:r}}),c.val=d(o,n),!1}(n.children)}},n.children))}))))}function R(e){var a,o=e.name,l=e.label,i=e.input,s=e.class,c=e.bsSize,u=e.cols,d=e.id,v=r(e,m),f=null!=d?d:Math.random().toString(36).substring(2,9),p="i_"+f,g=null!=(a=null!=i?i:A.get(v.type))?a:L;if(u){var h=u.split(" "),b=h[1];return[M({bsSize:c,col:h[0],for:p},l),D({class:function(){var n=b?"col-"+b:"col";return["checkbox","radio","switch"].includes(v.type)&&(n+=" pt-2"),n}},g(t({bsSize:c,name:o,id:p},v)))]}return D(t({class:function(){var e="";return n.val(s)&&(e+=" "+n.val(s)),e},id:f},v),M({bsSize:c,for:p},l),g(t({bsSize:c,name:o,id:p},v)))}function F(e){var r=(void 0===e?{}:e).values,a=[],o=1,l={values:t({},null!=r?r:{}),onChange:function(n){return a.push(n),function(){return l.offChange(n)}},offChange:function(n){a=a.filter(function(e){return e!==n})},emitChange:function(n,e){a.forEach(function(t){return t(n,e)})},handleInput:function(e){var t,r=e.target,a=r.name,o=r.value;n.val(t=l.values[a])!==t?l.values[a].val=o:l.values[a]=o,l.emitChange(a,o)},args:function(n){var e,t;void 0===n&&(n={});var r=n.name,a=void 0===r?"v"+o++:r,i=n.value,s=n.oninput,c=void 0===s?l.handleInput:s;return i=null!=(e=null!=(t=i)?t:l.values[a])?e:"",l.values[a]=i,{name:a,value:i,oninput:c}}};return l}function W(e){var a=void 0===e?{}:e,o=a.dom,l=F({values:a.values}),i=t({},l,{dom:null!=o?o:n.tags("form"),row:null,add:function(e,a){var o,s=e.name,c=e.value,u=e.oninput,d=r(e,h);void 0===c&&s&&(c=i.values[s]);var v=t({},d,l.args({name:s,value:c,oninput:u}));return n.add(null!=(o=null!=a?a:i.row)?o:i.dom,R(v)),i},addRow:function(e){return null===e?i.row=null:(i.row=D({class:"row"+(e?" "+e:"")}),n.add(i.dom,i.row),i)}});return i}function _(e,a){var o=e.bsSize,l=e.class,i=e.color,s=void 0===i?"secondary":i,c=e.outline,u=e.dropdown,d=e.type,v=void 0===d?"button":d,f=r(e,b);return n.val(u)&&(f["data-bs-toggle"]="dropdown"),k(t({type:v,class:function(){var e="btn";return n.val(s)&&(n.val(c)?e+=" btn-outline-"+n.val(s):e+=" btn-"+n.val(s)),n.val(o)&&(e+=" btn-"+n.val(o)),n.val(u)&&(e+=" dropdown-toggle"),n.val(l)&&(e+=" "+n.val(l)),e}},f),a)}var B=["id","class","header","body","footer","close","centered","scrollable","position","width","color","dialogstyle","bodystyle"],G=["label","header","divider","text","active","disabled","class","tag"],K=n.tags,U=K.div,X=K.button,Y=K.h5;function q(n){void 0===n&&(n={});var e=n.id,a=n.header,o=n.body,l=n.footer,i=n.close,s=void 0===i||i,c=n.centered,u=void 0===c||c,d=n.scrollable,v=n.position,f=n.width,p=n.color,g=n.dialogstyle,m=void 0===g?"":g,h=n.bodystyle,b=void 0===h?"":h,y=r(n,B);f&&(m+="width: "+f+";"),f&&(m+="max-width: inherit;"),v&&(m+="margin-left: "+v.left+"px; margin-top: "+v.top+"px;",u=!1);var w="modal-dialog"+(u?" modal-dialog-centered":"")+(d?" modal-dialog-scrollable":""),k="modal-content"+(p?" "+p:"");return"string"==typeof a&&(a=Y({class:"modal-title"},a)),U(t({class:function(){return"modal"},id:e,"aria-hidden":"true",tabindex:"-1"},y),U({class:w,style:m},U({class:k},a||s?U({class:"modal-header"},a,s?Q:null):null,o&&U({class:"modal-body",style:b},o),l&&U({class:"modal-footer"},l))))}function J(n,r){var a,o;void 0===n&&(n={});var l,i=null==(a=null==r?void 0:r.dispose)||a,s={dom:null,isOpen:!1,modalResult:void 0,open:function(e,r){s.modalResult=void 0,null!=e&&null!=r&&(n=t({},n,{position:{left:e,top:r}})),s.bsm.show()},close:function(n){s.modalResult=n,s.bsm.hide()},asyncOpen:function(n,e){try{return Promise.resolve(new Promise(function(t){s.open(n,e),s.dom.addEventListener("hidden.bs.modal",function(){return t(s.modalResult)})}))}catch(n){return Promise.reject(n)}},get bsm(){return o||(s.dom=q(n),o=new e(s.dom,r),s.dom.addEventListener("shown.bs.modal",s.onShown),s.dom.addEventListener("hidden.bs.modal",s.onHidden)),o},dispose:function(){o&&(o.dispose(),o=null),s.dom&&(s.dom.remove(),s.dom=null)},hide:function(n){l=n,o.hide()},show:function(){o.show()},onShown:function(n){s.isOpen=!0},onHidden:function(n){s.isOpen=!1,l?l=!1:i&&s.dispose()}};return s}function Q(n,e){return X({type:"button",class:(void 0===n?{}:n).class||"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},e)}function Z(){return n.tags.ul.apply(void 0,[{class:"dropdown-menu",style:"display: table; z-index: 0; position: inherit; min-width: 10rem; max-height: 400px; overflow-y: auto;"}].concat([].slice.call(arguments).map(function(n){return n instanceof HTMLElement?n:nn(n)})))}function $(){return n.tags.ul.apply(void 0,[{class:"dropdown-menu"}].concat([].slice.call(arguments).map(function(n){return n instanceof HTMLElement?n:nn(n)})))}function nn(e){var a=n.tags,o=a.li,l=a.span,i=a.hr,s=a.button,c=function(n){n.preventDefault(),n.stopPropagation()},u=e.label,d=e.header,v=e.divider,f=e.text,p=e.active,g=e.disabled,m=e.class,h=e.tag,b=r(e,G),y=function(e){return function(){var t=e;return n.val(p)&&(t+=" active"),n.val(g)&&(t+=" disabled"),n.val(m)&&(t+=" "+n.val(m)),t}};return o(d?(h=h?n.tags[h]:l)(t({class:y("dropdown-header fw-bold border-bottom"),onclick:c},b),u):v?(h=h?n.tags[h]:i)(t({class:y("dropdown-divider"),onclick:c},b),u):f?(h=h?n.tags[h]:l)(t({class:y("dropdown-item-text"),onclick:c},b),u):(h=h?n.tags[h]:s)(t({class:y("dropdown-item"),role:"button"},b),u))}function en(){var n=Z.apply(void 0,[].slice.call(arguments)),e=J({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:n});return n.addEventListener("click",function(){return e.close()}),e}function tn(){var n=Z.apply(void 0,[].slice.call(arguments)),e=J({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:n});n.addEventListener("click",function(){return e.close()});var t=e.open;return e.open=function(n){n.preventDefault(),n.stopPropagation(),t(n.clientX,n.clientY)},e}var rn=["class","sticky","menu","t"],an=["href","label","icon","items","level","Comp","hidden","t"],on=["label","class","active","disabled","divider","level"],ln=["label","items","t","level"],sn=n.tags,cn=sn.div,un=sn.button,dn=sn.hr,vn=sn.span,fn=sn.nav,pn=sn.a,gn=sn.ul,mn=sn.li;function hn(e){var a=e.class,o=e.sticky,l=void 0===o||o,i=e.menu,s=e.t,c=void 0===s?function(n){return n}:s;return r(e,rn),fn({class:function(){var e="navbar navbar-expand-lg bg-body-tertiary";return l&&(e+=" sticky-top"),n.val(a)&&(e+=" "+n.val(a)),e}},cn({class:"container-fluid"},i.brand,un({class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},vn({class:"navbar-toggler-icon"})),cn({class:"collapse navbar-collapse",id:"navbarSupportedContent"},gn({class:"me-auto navbar-nav"},i.items.map(function(n){return bn(t({},n,{t:c}))})))))}function bn(e){var a=e.href,o=void 0===a?"#":a,l=e.label,i=e.icon,s=e.items,c=e.level,u=void 0===c?0:c,d=e.Comp,v=e.hidden,f=void 0!==v&&v,p=e.t,g=void 0===p?function(n){return n}:p,m=r(e,an);return"function"==typeof f&&(f=f()),f?null:("function"==typeof l&&(l=l()),l=l?g(n.val(l)):"",m.title&&(m.title=g(n.val(m.title))),s?wn(t({label:l,items:s,level:u,t:g},m)):mn({class:function(){var e="nav-item";return 0!==u&&(e=""),n.val(m.class)&&(e+=" "+n.val(m.class)),e}},d?d(t({href:o,label:l,icon:i,items:s,level:u,hidden:f,t:g},m)):yn(t({},m,{href:o,label:l,level:u}))))}function yn(e){var a=e.label,o=e.class,l=e.active,i=e.disabled,s=e.divider,c=e.level,u=void 0===c?0:c,d=r(e,on);return s?dn({class:"dropdown-divider"}):pn(t({class:function(){var e="nav-link";return 0!==u&&(e="dropdown-item"),n.val(l)&&(e+=" active"),n.val(l)&&0===u&&(e+=" text-primary"),n.val(i)&&(e+=" disabled"),n.val(o)&&(e+=" "+n.val(o)),e},href:"#"},d),a)}function wn(n){var e=n.label,a=n.items,o=n.t,l=void 0===o?function(n){return n}:o,i=n.level,s=r(n,ln);return i>0?mn({},pn({class:"dropdown-item",href:"#"},e+" »"),gn({class:"submenu dropdown-menu"},a.map(function(n){return bn(t({level:i+1,t:l},n))}))):mn({class:"nav-item dropdown",id:"NavDropdown"+i},pn({class:"nav-link dropdown-toggle",href:"#","data-bs-toggle":"dropdown"},e),gn({class:"dropdown-menu"},a.map(function(n){return bn(t({level:i+1},n,{t:l},s))})))}function kn(){var n={dict:{},language:"en",languageDefault:"en",setLanguage:function(e){n.language=String(e).toLowerCase(),n.dict[n.language]||(n.language=n.languageDefault)},getLanguage:function(){return n.language},t:function(e){if("function"==typeof e&&(e=e()),!e)return"";var t=function(n,e){try{e=e.split(".");for(var t=0;t<e.length;t++){if(!n)return n;n=n[e[t]]}}catch(n){return!1}return n}(n.dict[n.language],e);return t||(t=e.split(".").pop()),t},tPath:function(e){return e.endsWith(".")||(e+="."),function(t){return n.t(e+t)}},addWords:function(e,t,r){var a,o;r&&((a={})[r]=e,e=a),t&&((o={})[t]=e,e=o),Dn(n.dict,e)}};return n}function Dn(n,e){for(var t in e)try{n[t]=e[t].constructor===Object?Dn(n[t],e[t]):e[t]}catch(r){n[t]=e[t]}return n}var Sn=["attr","size","title"],zn=["src","alt"],Cn=["size","style"],xn=["size"],In=["size"],On=new Map,An=0,Ln=new Map;function Mn(n){if("string"!=typeof n)return!1;var e=On.get(n);return!e&&An>0&&!Ln.get(n)&&(console.warn("Get unknown icon",n),Ln.set(n,!0)),e}function En(n,e){An>1&&On.get(n)&&console.warn("Redefine icon",n),On.set(n,e)}function Pn(n){switch(n){case 0:case 1:case 2:An=n;break;case"all":An=2;break;case"get":An=1;break;default:An=0}}function Hn(e){var a;void 0===e&&(e={});var o=e.attr,l=e.size,i=e.title,s=r(e,Sn),c=l||"1em",u="";e.class&&(u+=(u?u+" ":"")+e.class);var d=e.color?"color: "+e.color+"; ":"";return e.style&&(d+=e.style),(a=n.tagsNS("http://www.w3.org/2000/svg")).svg.apply(a,[t({stroke:"currentColor",fill:"currentColor","stroke-width":"0"},o,s,{class:u,style:d,height:c,width:c}),i?n.tagsNS("http://www.w3.org/2000/svg").title(i):null].concat([].slice.call(arguments,1)))}function Tn(e){function r(e){return e&&e.map(function(e,a){return n.tagsNS("http://www.w3.org/2000/svg")[e.tag](t({},e.attr),r(e.child))})}return"svg"===e.tag?function(a){var o;return void 0===a&&(a={}),(o=n.tagsNS("http://www.w3.org/2000/svg")).svg.apply(o,[t({},e.attr,a)].concat(r(e.child)))}:function(n){return void 0===n&&(n={}),Hn.apply(void 0,[t({},e.attr,n)].concat(r(e.child)))}}function jn(e){var a=e.src,o=e.alt,l=r(e,zn);return function(e){var i=void 0===e?{}:e,s=i.size,c=void 0===s?"1em":s,u=i.style,d=void 0===u?"":u,v=r(i,Cn);return n.tags.img(t({src:a,alt:o||a.split("/").pop(),style:d+"width:"+c+"; height:"+c+";"},l,v))}}function Nn(n,e){return void 0===e&&(e={}),function(t){var a=void 0===t?{}:t,o=a.size,l=void 0===o?"1em":o,i=r(a,xn),s=document.createElement("div");return s.innerHTML=n,s=s.firstChild,i.width=l,i.height=l,Object.keys(e).forEach(function(n){return s.setAttribute(n,e[n])}),Object.keys(i).forEach(function(n){return s.setAttribute(n,i[n])}),s}}function Vn(e,a){var o=void 0===a?{}:a,l=o.size,i=r(o,In),s=Mn(e);if(s){if("function"==typeof s)return s(t({size:l},i));e=s}if("function"==typeof e)return i.size=l,e(t({},i));if("string"==typeof e&&e.startsWith("fa"))return void 0!==l&&(i.style=i.style=t({},i.style||{},{fontSize:l})),i.class=i.class?i.class+" "+e:e,n.tags.i(t({},i));if("string"==typeof e&&e.startsWith("<svg "))return Nn(e)(t({size:l},i));if("string"==typeof e){if(void 0!==l){var c="font-size:"+l+";";i.style&&(c+=i.style),i.style=c}return n.tags.span(t({},i),e)}var u="width:"+(l=void 0===l?"1em":l)+"; height:"+l+"; min-width:"+l+";";return i.style&&(u+=i.style),i.style=u,n.tags.div(t({},i))}function Rn(n,e){var r={dragProps:function(n){return{draggable:!0,ondragstart:r.onDragStart,ondrop:r.onDrop,ondragover:r.onDragOver,ondragleave:r.onDragLeave,"data-position":n}},isDropArea:function(n){return r.dragAndDrop&&r.dragAndDrop.draggedTo===Number(n)},onDragStart:function(e){var a=Number(e.currentTarget.dataset.position);r.setDragAndDrop(t({},r.dragAndDrop,{draggedFrom:a,isDragging:!0,originalOrder:n})),e.dataTransfer.setData("text/html","")},onDragOver:function(n){n.preventDefault();var e=r.dragAndDrop.originalOrder,a=r.dragAndDrop.draggedFrom,o=Number(n.currentTarget.dataset.position),l=e[a],i=e.filter(function(n,e){return e!==a});e=[].concat(i.slice(0,o),[l],i.slice(o)),o!==r.dragAndDrop.draggedTo&&r.setDragAndDrop(t({},r.dragAndDrop,{updatedOrder:e,draggedTo:o}))},onDrop:function(n){e(r.dragAndDrop.updatedOrder),r.setDragAndDrop(t({},r.dragAndDrop,{draggedFrom:null,draggedTo:null,isDragging:!1}))},onDragLeave:function(){r.setDragAndDrop(t({},r.dragAndDrop,{draggedTo:null}))},dragAndDrop:{draggedFrom:null,draggedTo:null,isDragging:!1,originalOrder:[],updatedOrder:[]},setDragAndDrop:function(n){return r.dragAndDrop=n}};return r}On.set("SPACE",function(n){return Vn(" ",t({},n))});var Fn=["value","commaValue","options","oninput","onContextMenu","dragSort","delIcon","orderIcon","allowCreate","multi","bsSize","closeOnCheck","tagColor","style","placeholder","loading","tabindex","icons","t"],Wn=["onChange"],_n=["class","bsSize"],Bn=["class","bsSize"],Gn=["Enter"," ",","],Kn=function(n){return"string"==typeof n&&"-"===n[0]},Un=function(n){return Kn(n)?n.substring(1):n},Xn=function(n){return Vn("🗙",n)},Yn=function(n){return Vn("☒",n)},qn=function(n){return Vn("☐",n)},Jn=function(n){return Vn(Nn('<svg viewBox="0 0 576 512"><path d="M183.6 42.4C177.5 35.8 169 32 160 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L128 146.3V448c0 17.7 14.3 32 32 32s32-14.3 32-32V146.3l32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 320c0 17.7 14.3 32 32 32h50.7l-73.4 73.4c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H429.3l73.4-73.4c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8H352c-17.7 0-32 14.3-32 32zM416 32c-12.1 0-23.2 6.8-28.6 17.7l-64 128-16 32c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l7.2-14.3h88.4l7.2 14.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9l-16-32-64-128C439.2 38.8 428.1 32 416 32zM395.8 176L416 135.6 436.2 176H395.8z" /></svg>',t({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},n)))},Qn=function(n){return Vn(Nn('<svg viewBox="0 0 576 512"><path d="M183.6 469.6C177.5 476.2 169 480 160 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L128 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 320c0-17.7 14.3-32 32-32H480c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9L429.3 416H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H352c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9L402.7 352H352c-17.7 0-32-14.3-32-32zM416 32c12.1 0 23.2 6.8 28.6 17.7l64 128 16 32c7.9 15.8 1.5 35-14.3 42.9s-35 1.5-42.9-14.3L460.2 224H371.8l-7.2 14.3c-7.9 15.8-27.1 22.2-42.9 14.3s-22.2-27.1-14.3-42.9l16-32 64-128C392.8 38.8 403.9 32 416 32zM395.8 176h40.4L416 135.6 395.8 176z" /></svg>',t({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},n)))},Zn={remove:"remove",ascending:"ascending",descending:"descending",edplaceholder:"enter new tag"},$n=n.tags,ne=$n.div,ee=$n.span;function te(e){var a,o,l,i=e.value,s=e.commaValue,c=void 0===s||s,u=e.options,d=void 0===u?[]:u,v=e.oninput,f=e.onContextMenu,p=e.dragSort,g=void 0===p||p,m=e.delIcon,h=void 0===m?"none":m,b=e.orderIcon,y=void 0!==b&&b,w=e.allowCreate,k=void 0===w||w,D=e.multi,S=void 0===D||D,z=e.bsSize,C=void 0===z?"":z,x=e.closeOnCheck,I=void 0!==x&&x,O=e.tagColor,A=e.style,L=e.placeholder,M=e.loading,E=e.tabindex,P=void 0===E?0:E,H=e.icons,T=e.t,j=r(e,Fn);"string"==typeof(i=n.val(i))&&(i=i.split(",")),i&&Array.isArray(i)||(i=[]),i=i.filter(function(n){return n}),A=(null!=(a=A)?a:"")+" heigt: auto;";var N={items:n.state(i),listvalue:n.state(i),options:le(d,i),onContextMenu:f,dragSort:g,delIcon:h,orderIcon:y,allowCreate:k,multi:S,closeOnCheck:I,bsSize:C,tagColor:O||"text-bg-primary",placeholder:L,loading:M,tabindex:P,icons:t({IconDelete:Xn,IconCheck:Yn,IconUncheck:qn,IconAsc:Jn,IconDsc:Qn},H||{}),t:T||function(n){var e;return null!=(e=Zn[n])?e:n},checkItem:function(n,e){n=Un(n),this.saveItems(this.multi?e?[].concat(this.items.val,[n]):this.items.val.filter(function(e){return Un(e)!==n}):e?[n]:[])},saveItems:function(n){this.items.val=n,!this.isOpen&&v&&(this.listvalue.val=n,v({target:{name:j.name,value:c?n.join(","):n,type:"tagedit"}}))},checkAll:function(n,e){this.multi?this.saveItems(e?[].concat(this.options.map(function(n){return n.value})):[]):this.checkItem(n,e)},onOrderClick:function(n,e){var t=this.items.val.indexOf(n),r=Kn(n);if(-1!==t&&e!==r){var a=[].concat(this.items.val);a[t]=e?"-"+n:n.substring(1),this.saveItems(a)}},newItem:function(n){n&&!this.items.val.some(function(e){return Un(e)===n})&&(this.hideDropdown(),this.checkItem(n,!0))},showDropdown:function(){this.isOpen||this.toggleDropdown()},hideDropdown:function(){this.isOpen&&this.toggleDropdown()},toggleDropdown:function(){o.click()}};return o=_({dropdown:!0}),l=function(n){var e=n.tagData,t=e.options.map(function(n){return function(n){var e=n.tagData,t=n.item,r=e.multi&&!e.closeOnCheck?function(n){n.preventDefault(),n.stopPropagation()}:function(){},a=function(){return!!e.items.val.find(function(n){return Un(n)===t.value})};return nn(""===t.value?{class:"py-0",divider:1}:{label:ne({class:"d-flex align-items-center"},function(){return a()?e.icons.IconCheck({class:"me-1"}):e.icons.IconUncheck({class:"me-1"})},t.children),class:"py-0",onclick:function(n){r(n),n.ctrlKey?e.checkAll(t.value,!a()):e.checkItem(t.value,!a())},onkeydown:function(n){32===n.which&&(r(n),n.ctrlKey?e.checkAll(t.value,!a()):e.checkItem(t.value,!a()))}})}({tagData:e,item:n})});return e.allowCreate&&(t.unshift(nn({divider:1})),t.unshift(nn({text:!0,tag:"div",toggle:!1,label:ae({bsSize:e.bsSize,tabIndex:"0",placeholder:e.t("edplaceholder"),onChange:function(n){return e.newItem(n)}})}))),$.apply(void 0,t)}({tagData:N}),o.addEventListener("shown.bs.dropdown",function(n){N.isOpen=!0}),o.addEventListener("hidden.bs.dropdown",function(n){N.isOpen=!1,N.saveItems(N.items.val)}),function(e){var a=void 0===e?{}:e,o=a.class,l=a.bsSize,i=r(a,Bn);return ne.apply(void 0,[t({class:function(){var e="input-group";return n.val(l)&&(e+=" input-group-"+n.val(l)),n.val(o)&&(e+=" "+n.val(o)),e}},i)].concat([].slice.call(arguments,1)))}(t({bsSize:C},j,{style:A}),re({tagData:N}),o,l)}function re(e){var r=e.tagData;if(n.val(r.loading))return oe({},ne({class:"spinner-border spinner-border-sm "+r.tagColor.replace("-bg",""),role:"status"},ee({class:"visually-hidden"},"Loading...")));var a=!(!r.dragSort||!r.multi)&&Rn(r.listvalue.val,function(n){return r.saveItems(n)}),o=r.listvalue.val.map(function(n,e){return function(n){var e,r,a,o=n.tagData,l=n.item,i=n.idx,s=n.drag,c=(e=o.options,r=Un(l),(a=e.find(function(n){return n.value===r}))&&(r=a.children),r),u={class:"badge "+o.tagColor+" me-1 my-1",style:"fontSize: 90%;"};s&&(u=t({},u,{style:u.style+"cursor: grab;"},s.dragProps(i)));var d,v=function(n){return ne({class:n,role:"button",title:o.t("remove"),onclick:function(n){n.preventDefault(),n.stopPropagation(),o.checkItem(l,!1)}},o.icons.IconDelete)},f=[];return"left"===o.delIcon&&f.push(v("me-1")),f.push(c),o.orderIcon&&f.push((d=Kn(l),ne({class:"ms-1",role:"button",title:o.t(d?"descending":"ascending"),onclick:function(n){n.preventDefault(),n.stopPropagation(),o.onOrderClick(l,!d)}},d?o.icons.IconDsc:o.icons.IconAsc))),"right"===o.delIcon&&f.push(v("ms-1")),ee(t({},u),ne.apply(void 0,[{class:"d-flex"}].concat(f)))}({tagData:r,item:n,idx:e,drag:a})});return 0===o.length&&r.placeholder&&(o="string"==typeof r.placeholder?[ee({class:"text-muted"},r.placeholder)]:[placeholder]),oe.apply(void 0,[{tabindex:r.tabindex,onclick:function(n){n.preventDefault(),n.stopPropagation(),r.toggleDropdown()}}].concat(o))}function ae(n){var e=n.onChange,t=r(n,Wn),a="";return L({type:"text",value:a,bsSize:t.bsSize,placeholder:t.placeholder,oninput:function(n){a=n.target.value},onblur:function(){e(a)},onkeypress:function(n){Gn.includes(n.key)&&(n.preventDefault(),n.stopPropagation(),e(a),a="")}})}function oe(e){var a=void 0===e?{}:e,o=a.class,l=a.bsSize,i=r(a,_n);return ne.apply(void 0,[t({class:function(){var e="form-control";return n.val(l)&&(e+=" form-control-"+n.val(l)),n.val(o)&&(e+=" "+n.val(o)),e}},i)].concat([].slice.call(arguments,1)))}function le(n,e){return n=l(n),e.forEach(function(e){e=Un(e),n.find(function(n){return n.value===e})||n.unshift({value:e,children:e,key:e})}),n}var ie="vanjs-bootstrap 1.0.3 LICENSE MIT (c) 2023 by Geoffrey Emmans";export{_ as Button,j as CheckboxInput,Q as CloseButton,V as ComboboxInput,tn as ContextMenu,Rn as DragSort,$ as DropdownMenu,W as FormBuilder,H as FormCheckInput,F as FormController,R as FormGroup,M as FormLabel,Tn as GenIcon,kn as I18n,Vn as Icon,jn as ImgIcon,L as Input,nn as MenuItem,J as Modal,q as ModalFrame,bn as NavItem,yn as NavLink,wn as NavMenu,hn as Navbar,en as PopupMenu,Z as PopupMenuFrame,N as RadioInput,P as RadioSelectInput,E as SelectInput,Hn as SvgIconBase,Nn as SvgStrIcon,T as SwitchInput,te as TagInput,Mn as getIcon,On as iconMap,l as selectOptions,En as setIcon,Pn as setWarning,A as typeMap,ie as version};
//# sourceMappingURL=lib.module.mjs.map
