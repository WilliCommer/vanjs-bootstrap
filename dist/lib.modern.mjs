import e from"vanjs-core";import{Modal as t}from"bootstrap";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},l.apply(this,arguments)}function a(e,t){if(null==e)return{};var l,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)t.indexOf(l=s[a])>=0||(n[l]=e[l]);return n}const{option:n}=e.tags,s=console.warn;function o(e,t,l){return e&&!Array.isArray(e)&&"object"==typeof e&&e.value&&(e=function(e){var{value:t,text:l}=e;return t?(t=r(t,!0),l=r(l,!1),t.map((e,t)=>({value:e,text:l[t]}))):[]}(e)),e=(e=r(e||[],!0)).map(function(e){let t={value:"",children:""};return e?Array.isArray(e)?(e.length>0&&(t.value=e[0],t.children=e[0]),e.length>1&&(t.value=e[1]),t):"object"==typeof e?(t.value=e.value,t.children=e.value,["children","text","displayValue"].some(l=>void 0!==e[l]&&(t.children=e[l],!0)),t):(t.value=e,t.children=e,t):t}),t?e.map(e=>{let t={value:e.value};return void 0!==l&&e.value===l&&(t.selected=!0),n(t,e.children)}):e}function r(e,t){return e?("string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(t&&s("parseSelectOptions value invalid"),e=[]),e):[]}const i=["class","bsSize","col"],d=["class","isvalid","bsSize"],c=["class","isvalid","bsSize"],u=["class","isvalid","bsSize"],v=["options"],p=["options","class","bsSize","inline","id","oninput","name","value","disabled","isvalid"],g=["label","type","class","style","bsSize","reverse","id","value","isvalid"],m=["options","style","bsSize","onItemClick","disabled","isvalid"],h=["name","label","input","class","inputClass","bsSize","cols","col","id","separated"],f=["name","value","oninput","cols","onvalidate"],b=["bsSize","class","color","outline","dropdown","type"],{button:y,div:w,input:k,label:C,textarea:D,select:S}=e.tags;var z=new Map;function x(t,n){let{class:s,bsSize:o,col:r}=t,d=a(t,i);return C(l({class:()=>{let t="form-label";return e.val(r)?(t="col-form-label",e.val(o)?t+=" col-"+e.val(o)+"-"+e.val(r)+" col-form-label-"+e.val(o):t+=" col-"+e.val(r)):e.val(o)&&(t+=" col-form-label-"+e.val(o)),e.val(s)&&(t+=" "+e.val(s)),t}},d),n)}function I(t){let{class:n,isvalid:s,bsSize:o}=t,r=a(t,d);return k(l({class:()=>{let t="form-control";return e.val(o)&&(t+=" form-control-"+e.val(o)),e.val(n)&&(t+=" "+e.val(n)),null!=s&&(t+=e.val(s)?" is-valid":" is-invalid"),t}},r))}function O(t){let{class:n,isvalid:s,bsSize:r}=t,i=a(t,u),{options:d=[]}=i,c=a(i,v);return d="function"!=typeof d?o(d,!0,i.value):d(),S(l({class:()=>{let t="form-select";return e.val(r)&&(t+=" form-select-"+e.val(r)),e.val(n)&&(t+=" "+e.val(n)),null!=s&&(t+=e.val(s)?" is-valid":" is-invalid"),t}},c),d)}function A(t){var{options:n,class:s,bsSize:r,inline:i,id:d,oninput:c,name:u,value:v,disabled:g,isvalid:m}=t,h=a(t,p);u=u||Math.random().toString(36).substring(2,9),d=d||"rgi_"+u,n=o(n);const f=e=>{c&&c({target:{name:u,value:e.target.value,type:"radiogroup"}})},b=n.map((e,t)=>{let l=d+"_"+t;return w({class:"form-check"+(i?" form-check-inline":"")},k({class:"form-check-input",type:"radio",id:l,value:e.value,name:u,checked:v===e.value,oninput:f,disabled:g}),C({class:"form-check-label",for:l},e.children))});return w(l({class:()=>{let t="form-control";return e.val(r)&&(t+=" form-control-"+e.val(r)),e.val(s)&&(t+=" "+e.val(s)),null!=m&&(t+=e.val(m)?" is-valid":" is-invalid"),t},disabled:g},h),b)}function L(t,...n){let{label:s,type:o,class:r,style:i,bsSize:d,reverse:c,id:u,value:v,isvalid:p}=t,m=a(t,g);u=u||Math.random().toString(36).substring(2,9);var h="switch"===o;return h&&(o="checkbox"),w({class:()=>{let t="form-check";return h&&(t+=" form-switch"),e.val(d)&&(t+=" form-control-"+e.val(d)),e.val(c)&&(t+=" form-check-reverse"),e.val(r)&&(t+=" "+e.val(r)),t},style:i},k(l({},m,{class:()=>{let t="form-check-input";return null!=p&&(t+=e.val(p)?" is-valid":" is-invalid"),t},id:u,type:o,checked:v||!1,oninput:e=>{e.stopPropagation();var{checked:t,name:l,type:a}=e.target;m.oninput({target:{value:t=!!t,checked:t,name:l,type:a}})},role:h?"switch":void 0})),()=>s?C({class:"form-check-label",for:u},s):null,...n)}z.set("text",I),z.set("textarea",function(t){let{class:n,isvalid:s,bsSize:o}=t,r=a(t,c);return D(l({class:()=>{let t="form-control";return e.val(o)&&(t+=" form-control-"+e.val(o)),e.val(n)&&(t+=" "+e.val(n)),null!=s&&(t+=e.val(s)?" is-valid":" is-invalid"),t}},r))}),z.set("select",O),z.set("radioselect",A),z.set("checkbox",L),z.set("radio",L),z.set("switch",L),z.set("combobox",P);const M=e=>L(l({},e,{type:"switch"})),E=e=>L(l({},e,{type:"checkbox"})),H=e=>L(l({},e,{type:"radio"}));function P(t){const{a:n,div:s,ul:r,li:i}=e.tags;var{options:d=[],onItemClick:c,disabled:u,isvalid:v}=t,p=a(t,m);d=o(d);var g=e.state(f(d,e.val(t.value)));function h(e,t){let l=e.find(e=>e.children===t);return l&&(t=l.value),t}function f(e,t){var l=e.find(e=>e.value===t);return l&&(t=l.children),t}return s({style:e.val(t.style),class:()=>{let l="input-group";return e.val(t.bsSize)&&(l+=" input-group-"+e.val(t.bsSize)),e.val(t.class)&&(l+=" "+e.val(t.class)),null!=v&&(l+=e.val(v)?" is-valid":" is-invalid"),l}},I(l({},p,{disabled:u,value:g,oninput:e=>{let{value:l}=e.target;g.val=l,t.oninput({target:{value:h(d,l),name:t.name,type:t.type}})}})),R({dropdown:"true",disabled:u}),r({class:"dropdown-menu"},d.map(e=>i(n({class:"dropdown-item",href:"#",onclick:()=>function(e){let{name:l,type:a}=t;if(e=h(d,e),c){let t=d.find(t=>t.children===e);e=c(e,t)}return t.oninput({target:{name:l,value:e,type:a}}),g.val=f(d,e),!1}(e.children)},e.children)))))}function T(t,...n){var s;let o,r,{name:i,label:d,input:c,class:u,inputClass:v,bsSize:p,cols:g,col:m,id:f,separated:b}=t,y=a(t,h),k=null!=f?f:Math.random().toString(36).substring(2,9),C=k+"-i",D=null!=(s=null!=c?c:z.get(y.type))?s:I;var S;if(["checkbox","radio","switch"].includes(y.type)?(b?(r=x({bsSize:p,for:C},d),v=(null!=(S=v)?S:"")+" mt-2",o=D(l({bsSize:p,name:i,id:C,class:v},y),...n)):(r=null,o=D(l({bsSize:p,name:i,id:C,class:v,label:d},y),...n)),n=[]):(r=x({bsSize:p,for:C},d),o=D(l({bsSize:p,name:i,id:C,class:v},y))),g){let[e,t]=g.split(" ");t=t||12-Number(e);var O=[];return O.push(r?x({bsSize:p,col:e,id:k+"-l",for:C},d):w({class:e?`col-${e}`:"col"})),O.push(w({class:t?`col-${t}`:"col"},o,...n)),O}return m?w({class:m},r,o,...n):w(l({class:()=>{let t="";return e.val(u)&&(t+=" "+e.val(u)),t},id:k},y),r,o,...n)}function j({values:t}={}){var a=[],n=1,s={values:l({},null!=t?t:{}),onChange:e=>(a.push(e),()=>s.offChange(e)),offChange(e){a=a.filter(t=>t!==e)},emitChange(e,t){a.forEach(l=>l(e,t))},handleInput(t){let{name:l,value:a}=t.target;var n;e.val(n=s.values[l])!==n?s.values[l].val=a:s.values[l]=a,s.emitChange(l,a)},args(e={}){var t,l;let{name:a="v"+n++,value:o,oninput:r=s.handleInput}=e;return o=null!=(t=null!=(l=o)?l:s.values[a])?t:"",s.values[a]=o,{name:a,value:o,oninput:r}}};return s}function N({dom:t,values:n,rowClass:s="",formClass:o="",cols:r,autoRow:i,bsSize:d,id:c,onChange:u}={}){const v=e=>{let t=Number(e);return isNaN(t)?0:t};var p=j({values:n});u&&p.onChange(u);var g=l({},p,{dom:null!=t?t:e.tags.form({class:o}),row:null,rowClass:s,cols:r,autoRow:i,colCount:0,id:null!=c?c:Math.random().toString(36).substring(2,9),valid:{},onvalidate:{},getFormValid:()=>Object.keys(g.valid).every(e=>g.valid[e].val),add(t,...n){let{name:s,value:o,oninput:r,cols:i,onvalidate:c}=t,u=a(t,f);void 0===o&&s&&(o=g.values[s]);let m=l({},u,p.args({name:s,value:o,oninput:r}));return m.id=m.id||g.id+"-"+s,d&&void 0===m.bsSize&&(m.bsSize=d),m.cols=i||g.cols,g.autoRow&&(i=(e=>{let[t,l]=e.split(" ");return t=v(t),l=v(l),l=l||12-t,{l:t,r:l,t:t+l,s:t+" "+l}})(m.cols),g.row||(g.addRow(),g.colCount=0),g.colCount+=i.t,m.cols=i.s,g.colCount>12&&(g.addRow(),g.colCount=i.t)),c&&(g.onvalidate[m.name]=c,g.valid[m.name]=e.state(c(g.values[m.name])),m.isvalid=g.valid[m.name]),g.addGroup(m,...n),g},addGroup(t,...l){var a;e.add(null!=(a=g.row)?a:g.dom,T(t,...l))},addRow:t=>null===t?g.row=null:(g.row=w({class:"row"+(g.rowClass?" "+g.rowClass:"")+(t?" "+t:"")}),e.add(g.dom,g.row),g)});return g.onChange((e,t)=>{g.onvalidate[e]&&(g.valid[e].val=g.onvalidate[e](t))}),g}function R(t,n){let{bsSize:s,class:o,color:r="secondary",outline:i,dropdown:d,type:c="button"}=t,u=a(t,b);return e.val(d)&&(u["data-bs-toggle"]="dropdown"),y(l({type:c,class:()=>{let t="btn";return e.val(r)&&(e.val(i)?t+=" btn-outline-"+e.val(r):t+=" btn-"+e.val(r)),e.val(s)&&(t+=" btn-"+e.val(s)),e.val(d)&&(t+=" dropdown-toggle"),e.val(o)&&(t+=" "+e.val(o)),t}},u),n)}const $=["id","class","header","body","footer","close","centered","scrollable","position","width","color","dialogstyle","bodystyle"],V=["label","header","divider","text","active","disabled","class","tag"],{div:F,button:G,h5:W}=e.tags;function B(e={}){var{id:t,header:n,body:s,footer:o,close:r=!0,centered:i=!0,scrollable:d,position:c,width:u,color:v,dialogstyle:p="",bodystyle:g=""}=e,m=a(e,$);u&&(p+=`width: ${u};`),u&&(p+="max-width: inherit;"),c&&(p+=`margin-left: ${c.left}px; margin-top: ${c.top}px;`,i=!1);const h="modal-dialog"+(i?" modal-dialog-centered":"")+(d?" modal-dialog-scrollable":""),f="modal-content"+(v?" "+v:"");return"string"==typeof n&&(n=W({class:"modal-title"},n)),F(l({class:()=>"modal",id:t,"aria-hidden":"true",tabindex:"-1"},m),F({class:h,style:p},F({class:f},n||r?F({class:"modal-header"},n,r?U:null):null,s&&F({class:"modal-body",style:g},s),o&&F({class:"modal-footer"},o))))}function K(e={},a){var n,s,o,r=null==(n=null==a?void 0:a.dispose)||n,i={dom:null,isOpen:!1,modalResult:void 0,open(t,a){i.modalResult=void 0,null!=t&&null!=a&&(e=l({},e,{position:{left:t,top:a}})),i.bsm.show()},close(e){i.modalResult=e,i.bsm.hide()},asyncOpen:async(e,t)=>new Promise(l=>{i.open(e,t),i.dom.addEventListener("hidden.bs.modal",()=>l(i.modalResult))}),get bsm(){return s||(i.dom=B(e),s=new t(i.dom,a),i.dom.addEventListener("shown.bs.modal",i.onShown),i.dom.addEventListener("hidden.bs.modal",i.onHidden)),s},dispose(){s&&(s.dispose(),s=null),i.dom&&(i.dom.remove(),i.dom=null)},hide(e){o=e,s.hide()},show(){s.show()},onShown(e){i.isOpen=!0},onHidden(e){i.isOpen=!1,o?o=!1:r&&i.dispose()}};return i}function U({class:e}={},t){return G({type:"button",class:e||"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},t)}function _(...t){const{ul:l}=e.tags;return l({class:"dropdown-menu",style:"display: table; z-index: 0; position: inherit; min-width: 10rem; max-height: 400px; overflow-y: auto;"},...t.map(e=>e instanceof HTMLElement?e:Y(e)))}function X(...t){const{ul:l}=e.tags;return l({class:"dropdown-menu"},...t.map(e=>e instanceof HTMLElement?e:Y(e)))}function Y(t){const{li:n,span:s,hr:o,button:r}=e.tags,i=e=>{e.preventDefault(),e.stopPropagation()};var{label:d,header:c,divider:u,text:v,active:p,disabled:g,class:m,tag:h}=t,f=a(t,V),b=t=>()=>{let l=t;return e.val(p)&&(l+=" active"),e.val(g)&&(l+=" disabled"),e.val(m)&&(l+=" "+e.val(m)),l};return n(c?(h=h?e.tags[h]:s)(l({class:b("dropdown-header fw-bold border-bottom"),onclick:i},f),d):u?(h=h?e.tags[h]:o)(l({class:b("dropdown-divider"),onclick:i},f),d):v?(h=h?e.tags[h]:s)(l({class:b("dropdown-item-text"),onclick:i},f),d):(h=h?e.tags[h]:r)(l({class:b("dropdown-item"),role:"button"},f),d))}function q(...e){const t=_(...e),l=K({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:t});return t.addEventListener("click",()=>l.close()),l}function J(...e){const t=_(...e),l=K({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:t});t.addEventListener("click",()=>l.close());const a=l.open;return l.open=e=>{e.preventDefault(),e.stopPropagation(),a(e.clientX,e.clientY)},l}const Q=["class","sticky","menu","t"],Z=["href","label","icon","items","level","Comp","hidden","t"],ee=["label","class","active","disabled","divider","level"],te=["label","items","t","level"],{div:le,button:ae,hr:ne,span:se,nav:oe,a:re,ul:ie,li:de}=e.tags;function ce(t){let{class:n,sticky:s=!0,menu:o,t:r=(e=>e)}=t;return a(t,Q),oe({class:()=>{let t="navbar navbar-expand-lg bg-body-tertiary";return s&&(t+=" sticky-top"),e.val(n)&&(t+=" "+e.val(n)),t}},le({class:"container-fluid"},o.brand,ae({class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},se({class:"navbar-toggler-icon"})),le({class:"collapse navbar-collapse",id:"navbarSupportedContent"},ie({class:"me-auto navbar-nav"},o.items.map(e=>ue(l({},e,{t:r})))))))}function ue(t){let{href:n="#",label:s,icon:o,items:r,level:i=0,Comp:d,hidden:c=!1,t:u=(e=>e)}=t,v=a(t,Z);return"function"==typeof c&&(c=c()),c?null:("function"==typeof s&&(s=s()),s=s?u(e.val(s)):"",v.title&&(v.title=u(e.val(v.title))),r?pe(l({label:s,items:r,level:i,t:u},v)):de({class:()=>{let t="nav-item";return 0!==i&&(t=""),e.val(v.class)&&(t+=" "+e.val(v.class)),t}},d?d(l({href:n,label:s,icon:o,items:r,level:i,hidden:c,t:u},v)):ve(l({},v,{href:n,label:s,level:i}))))}function ve(t){let{label:n,class:s,active:o,disabled:r,divider:i,level:d=0}=t,c=a(t,ee);return i?ne({class:"dropdown-divider"}):re(l({class:()=>{let t="nav-link";return 0!==d&&(t="dropdown-item"),e.val(o)&&(t+=" active"),e.val(o)&&0===d&&(t+=" text-primary"),e.val(r)&&(t+=" disabled"),e.val(s)&&(t+=" "+e.val(s)),t},href:"#"},c),n)}function pe(e){let{label:t,items:n,t:s=(e=>e),level:o}=e,r=a(e,te);return o>0?de({},re({class:"dropdown-item",href:"#"},t+" »"),ie({class:"submenu dropdown-menu"},n.map(e=>ue(l({level:o+1,t:s},e))))):de({class:"nav-item dropdown",id:"NavDropdown"+o},re({class:"nav-link dropdown-toggle",href:"#","data-bs-toggle":"dropdown"},t),ie({class:"dropdown-menu"},n.map(e=>ue(l({level:o+1},e,{t:s},r)))))}function ge(){const e={dict:{},language:"en",languageDefault:"en",setLanguage(t){e.language=String(t).toLowerCase(),e.dict[e.language]||(e.language=e.languageDefault)},getLanguage:()=>e.language,t(t){if("function"==typeof t&&(t=t()),!t)return"";var l=function(e,t){try{t=t.split(".");for(let l=0;l<t.length;l++){if(!e)return e;e=e[t[l]]}}catch(e){return!1}return e}(e.dict[e.language],t);return l||(l=t.split(".").pop()),l},tPath:t=>(t.endsWith(".")||(t+="."),function(l){return e.t(t+l)}),addWords(t,l,a){a&&(t={[a]:t}),l&&(t={[l]:t}),me(e.dict,t)}};return e}function me(e,t){for(var l in t)try{e[l]=t[l].constructor===Object?me(e[l],t[l]):t[l]}catch(a){e[l]=t[l]}return e}const he=["attr","size","title"],fe=["src","alt"],be=["size","style"],ye=["size"],we=["size"];var ke=new Map,Ce=0,De=new Map;function Se(e){if("string"!=typeof e)return!1;var t=ke.get(e);return!t&&Ce>0&&!De.get(e)&&(console.warn("Get unknown icon",e),De.set(e,!0)),t}function ze(e,t){Ce>1&&ke.get(e)&&console.warn("Redefine icon",e),ke.set(e,t)}function xe(e){switch(e){case 0:case 1:case 2:Ce=e;break;case"all":Ce=2;break;case"get":Ce=1;break;default:Ce=0}}function Ie(t={},...n){const{attr:s,size:o,title:r}=t,i=a(t,he),d=o||"1em";let c="";t.class&&(c+=(c?c+" ":"")+t.class);let u=t.color?`color: ${t.color}; `:"";return t.style&&(u+=t.style),e.tagsNS("http://www.w3.org/2000/svg").svg(l({stroke:"currentColor",fill:"currentColor","stroke-width":"0"},s,i,{class:c,style:u,height:d,width:d}),r?e.tagsNS("http://www.w3.org/2000/svg").title(r):null,...n)}function Oe(t){function a(t){return t&&t.map((t,n)=>e.tagsNS("http://www.w3.org/2000/svg")[t.tag](l({},t.attr),a(t.child)))}return"svg"===t.tag?(n={})=>e.tagsNS("http://www.w3.org/2000/svg").svg(l({},t.attr,n),...a(t.child)):(e={})=>Ie(l({},t.attr,e),...a(t.child))}function Ae(t){let{src:n,alt:s}=t,o=a(t,fe);return(t={})=>{let{size:r="1em",style:i=""}=t,d=a(t,be);return e.tags.img(l({src:n,alt:s||n.split("/").pop(),style:i+`width:${r}; height:${r};`},o,d))}}function Le(e,t={}){return(l={})=>{let{size:n="1em"}=l,s=a(l,ye);var o=document.createElement("div");return o.innerHTML=e,o=o.firstChild,s.width=n,s.height=n,Object.keys(t).forEach(e=>o.setAttribute(e,t[e])),Object.keys(s).forEach(e=>o.setAttribute(e,s[e])),o}}function Me(t,n={}){let{size:s}=n,o=a(n,we);var r=Se(t);if(r){if("function"==typeof r)return r(l({size:s},o));t=r}if("function"==typeof t)return o.size=s,t(l({},o));if("string"==typeof t&&t.startsWith("fa"))return void 0!==s&&(o.style=o.style=l({},o.style||{},{fontSize:s})),o.class=o.class?o.class+" "+t:t,e.tags.i(l({},o));if("string"==typeof t&&t.startsWith("<svg "))return Le(t)(l({size:s},o));if("string"==typeof t){if(void 0!==s){let e="font-size:"+s+";";o.style&&(e+=o.style),o.style=e}return e.tags.span(l({},o),t)}s=void 0===s?"1em":s;let i=`width:${s}; height:${s}; min-width:${s};`;return o.style&&(i+=o.style),o.style=i,e.tags.div(l({},o))}function Ee(e,t){var a={dragProps:e=>({draggable:!0,ondragstart:a.onDragStart,ondrop:a.onDrop,ondragover:a.onDragOver,ondragleave:a.onDragLeave,"data-position":e}),isDropArea:e=>a.dragAndDrop&&a.dragAndDrop.draggedTo===Number(e),onDragStart(t){let n=Number(t.currentTarget.dataset.position);a.setDragAndDrop(l({},a.dragAndDrop,{draggedFrom:n,isDragging:!0,originalOrder:e})),t.dataTransfer.setData("text/html","")},onDragOver(e){e.preventDefault();let t=a.dragAndDrop.originalOrder,n=a.dragAndDrop.draggedFrom,s=Number(e.currentTarget.dataset.position),o=t[n],r=t.filter((e,t)=>t!==n);t=[...r.slice(0,s),o,...r.slice(s)],s!==a.dragAndDrop.draggedTo&&a.setDragAndDrop(l({},a.dragAndDrop,{updatedOrder:t,draggedTo:s}))},onDrop(e){t(a.dragAndDrop.updatedOrder),a.setDragAndDrop(l({},a.dragAndDrop,{draggedFrom:null,draggedTo:null,isDragging:!1}))},onDragLeave(){a.setDragAndDrop(l({},a.dragAndDrop,{draggedTo:null}))},dragAndDrop:{draggedFrom:null,draggedTo:null,isDragging:!1,originalOrder:[],updatedOrder:[]},setDragAndDrop:e=>a.dragAndDrop=e};return a}ke.set("SPACE",e=>Me(" ",l({},e)));const He=["value","commaValue","options","oninput","disabled","onContextMenu","dragSort","delIcon","orderIcon","allowCreate","multi","bsSize","closeOnCheck","tagColor","style","placeholder","loading","tabindex","icons","t"],Pe=["onChange"],Te=["class","bsSize"],je=["class","bsSize"],Ne=["Enter"," ",","],Re="",$e=e=>"string"==typeof e&&"-"===e[0],Ve=e=>$e(e)?e.substring(1):e,Fe=e=>Me("🗙",e),Ge=e=>Me("☒",e),We=e=>Me("☐",e),Be=e=>Me(Le('<svg viewBox="0 0 576 512"><path d="M183.6 42.4C177.5 35.8 169 32 160 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L128 146.3V448c0 17.7 14.3 32 32 32s32-14.3 32-32V146.3l32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 320c0 17.7 14.3 32 32 32h50.7l-73.4 73.4c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H429.3l73.4-73.4c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8H352c-17.7 0-32 14.3-32 32zM416 32c-12.1 0-23.2 6.8-28.6 17.7l-64 128-16 32c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l7.2-14.3h88.4l7.2 14.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9l-16-32-64-128C439.2 38.8 428.1 32 416 32zM395.8 176L416 135.6 436.2 176H395.8z" /></svg>',l({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},e))),Ke=e=>Me(Le('<svg viewBox="0 0 576 512"><path d="M183.6 469.6C177.5 476.2 169 480 160 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L128 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 320c0-17.7 14.3-32 32-32H480c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9L429.3 416H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H352c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9L402.7 352H352c-17.7 0-32-14.3-32-32zM416 32c12.1 0 23.2 6.8 28.6 17.7l64 128 16 32c7.9 15.8 1.5 35-14.3 42.9s-35 1.5-42.9-14.3L460.2 224H371.8l-7.2 14.3c-7.9 15.8-27.1 22.2-42.9 14.3s-22.2-27.1-14.3-42.9l16-32 64-128C392.8 38.8 403.9 32 416 32zM395.8 176h40.4L416 135.6 395.8 176z" /></svg>',l({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},e))),Ue={remove:"remove",ascending:"ascending",descending:"descending",edplaceholder:"enter new tag"},{div:_e,span:Xe}=e.tags;function Ye(t){var n;let{value:s,commaValue:o=!0,options:r=[],oninput:i,disabled:d,onContextMenu:c,dragSort:u=!0,delIcon:v="none",orderIcon:p=!1,allowCreate:g=!0,multi:m=!0,bsSize:h=Re,closeOnCheck:f=!1,tagColor:b,style:y,placeholder:w,loading:k,tabindex:C=0,icons:D,t:S}=t,z=a(t,He);var x,I;s=e.val(s),"string"==typeof s&&(s=s.split(",")),s&&Array.isArray(s)||(s=[]),s=s.filter(e=>e),y=(null!=(n=y)?n:"")+" heigt: auto;";const O={items:e.state(s),listvalue:e.state(s),options:Ze(r,s),disabled:d,onContextMenu:c,dragSort:u,delIcon:v,orderIcon:p,allowCreate:g,multi:m,closeOnCheck:f,bsSize:h,tagColor:b||"text-bg-primary",placeholder:w,loading:k,tabindex:C,icons:l({IconDelete:Fe,IconCheck:Ge,IconUncheck:We,IconAsc:Be,IconDsc:Ke},D||{}),t:S||(e=>{var t;return null!=(t=Ue[e])?t:e}),checkItem(e,t){e=Ve(e),this.saveItems(this.multi?t?[...this.items.val,e]:this.items.val.filter(t=>Ve(t)!==e):t?[e]:[])},saveItems(e){this.items.val=e,!this.isOpen&&i&&(this.listvalue.val=e,i({target:{name:z.name,value:o?e.join(","):e,type:"tagedit"}}))},checkAll(e,t){this.multi?this.saveItems(t?[...this.options.map(e=>e.value)]:[]):this.checkItem(e,t)},onOrderClick(e,t){let l=this.items.val.indexOf(e),a=$e(e);if(-1!==l&&t!==a){let a=[...this.items.val];a[l]=t?"-"+e:e.substring(1),this.saveItems(a)}},newItem(e){e&&!this.items.val.some(t=>Ve(t)===e)&&(this.hideDropdown(),this.checkItem(e,!0))},showDropdown(){this.isOpen||this.toggleDropdown()},hideDropdown(){this.isOpen&&this.toggleDropdown()},toggleDropdown(){x.click()}};return x=R({dropdown:!0,disabled:d}),I=function({tagData:e}){const t=e.options.map(t=>function({tagData:e,item:t}){const l=e.multi&&!e.closeOnCheck?e=>{e.preventDefault(),e.stopPropagation()}:()=>{},a=()=>!!e.items.val.find(e=>Ve(e)===t.value);return Y(""===t.value?{class:"py-0",divider:1}:{label:_e({class:"d-flex align-items-center"},()=>a()?e.icons.IconCheck({class:"me-1"}):e.icons.IconUncheck({class:"me-1"}),t.children),class:"py-0",onclick:n=>{l(n),n.ctrlKey?e.checkAll(t.value,!a()):e.checkItem(t.value,!a())},onkeydown:n=>{32===n.which&&(l(n),n.ctrlKey?e.checkAll(t.value,!a()):e.checkItem(t.value,!a()))}})}({tagData:e,item:t}));return e.allowCreate&&(t.unshift(Y({divider:1})),t.unshift(Y({text:!0,tag:"div",toggle:!1,label:Je({bsSize:e.bsSize,tabIndex:"0",placeholder:e.t("edplaceholder"),onChange:t=>e.newItem(t)})}))),X(...t)}({tagData:O}),x.addEventListener("shown.bs.dropdown",e=>{O.isOpen=!0}),x.addEventListener("hidden.bs.dropdown",e=>{O.isOpen=!1,O.saveItems(O.items.val)}),function(t={},...n){let{class:s,bsSize:o}=t,r=a(t,je);return _e(l({class:()=>{let t="input-group";return e.val(o)&&(t+=" input-group-"+e.val(o)),e.val(s)&&(t+=" "+e.val(s)),t}},r),...n)}(l({bsSize:h},z,{style:y}),qe({tagData:O}),x,I)}function qe({tagData:t}){if(e.val(t.loading))return Qe({},_e({class:"spinner-border spinner-border-sm "+t.tagColor.replace("-bg",""),role:"status"},Xe({class:"visually-hidden"},"Loading...")));const a=!(!t.dragSort||!t.multi||t.disabled)&&Ee(t.listvalue.val,e=>t.saveItems(e));var n=t.listvalue.val.map((e,n)=>function({tagData:e,item:t,idx:a,drag:n}){var s,o,r,i=(s=e.options,o=Ve(t),(r=s.find(e=>e.value===o))&&(o=r.children),o),d={class:"badge "+e.tagColor+" me-1 my-1",style:"fontSize: 90%;"};n&&(d=l({},d,{style:d.style+"cursor: grab;"},n.dragProps(a)));const c=l=>_e({class:l,role:"button",title:e.t("remove"),onclick:l=>{l.preventDefault(),l.stopPropagation(),e.checkItem(t,!1)}},e.icons.IconDelete);var u,v=[];return"left"===e.delIcon&&v.push(c("me-1")),v.push(i),e.orderIcon&&v.push((u=$e(t),_e({class:"ms-1",role:"button",title:e.t(u?"descending":"ascending"),onclick:l=>{l.preventDefault(),l.stopPropagation(),e.onOrderClick(t,!u)}},u?e.icons.IconDsc:e.icons.IconAsc))),"right"===e.delIcon&&v.push(c("ms-1")),Xe(l({},d),_e({class:"d-flex"},...v))}({tagData:t,item:e,idx:n,drag:a}));return 0===n.length&&t.placeholder&&(n="string"==typeof t.placeholder?[Xe({class:"text-muted"},t.placeholder)]:[placeholder]),Qe({tabindex:t.tabindex,onclick(e){e.preventDefault(),e.stopPropagation(),t.toggleDropdown()}},...n)}function Je(e){let{onChange:t}=e,l=a(e,Pe);var n="";return I({type:"text",value:n,bsSize:l.bsSize,placeholder:l.placeholder,oninput(e){n=e.target.value},onblur(){t(n)},onkeypress(e){Ne.includes(e.key)&&(e.preventDefault(),e.stopPropagation(),t(n),n="")}})}function Qe(t={},...n){let{class:s,bsSize:o}=t,r=a(t,Te);return _e(l({class:()=>{let t="form-control";return e.val(o)&&(t+=" form-control-"+e.val(o)),e.val(s)&&(t+=" "+e.val(s)),t}},r),...n)}function Ze(e,t){return e=o(e),t.forEach(t=>{t=Ve(t),e.find(e=>e.value===t)||e.unshift({value:t,children:t,key:t})}),e}var et="vanjs-bootstrap 1.0.3 LICENSE MIT (c) 2023 by Geoffrey Emmans";export{R as Button,E as CheckboxInput,U as CloseButton,P as ComboboxInput,J as ContextMenu,Ee as DragSort,X as DropdownMenu,N as FormBuilder,L as FormCheckInput,j as FormController,T as FormGroup,x as FormLabel,Oe as GenIcon,ge as I18n,Me as Icon,Ae as ImgIcon,I as Input,Y as MenuItem,K as Modal,B as ModalFrame,ue as NavItem,ve as NavLink,pe as NavMenu,ce as Navbar,q as PopupMenu,_ as PopupMenuFrame,H as RadioInput,A as RadioSelectInput,O as SelectInput,Ie as SvgIconBase,Le as SvgStrIcon,M as SwitchInput,Ye as TagInput,Se as getIcon,ke as iconMap,o as selectOptions,ze as setIcon,xe as setWarning,z as typeMap,et as version};
//# sourceMappingURL=lib.modern.mjs.map
