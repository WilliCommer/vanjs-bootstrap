var e=require("vanjs-core"),t=require("bootstrap");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/n(e);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,l={},o=Object.keys(e);for(a=0;a<o.length;a++)t.indexOf(n=o[a])>=0||(l[n]=e[n]);return l}var r=a.default.tags.option,i=console.warn;function s(e,t,n){return e&&!Array.isArray(e)&&"object"==typeof e&&e.value&&(e=function(e){var t=e.value,n=e.text;return t?(t=u(t,!0),n=u(n,!1),t.map(function(e,t){return{value:e,text:n[t]}})):[]}(e)),e=(e=u(e||[],!0)).map(function(e){var t={value:"",children:""};return e?Array.isArray(e)?(e.length>0&&(t.value=e[0],t.children=e[0]),e.length>1&&(t.value=e[1]),t):"object"==typeof e?(t.value=e.value,t.children=e.value,["children","text","displayValue"].some(function(n){return void 0!==e[n]&&(t.children=e[n],!0)}),t):(t.value=e,t.children=e,t):t}),t?e.map(function(e){var t={value:e.value};return void 0!==n&&e.value===n&&(t.selected=!0),r(t,e.children)}):e}function u(e,t){return e?("string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(t&&i("parseSelectOptions value invalid"),e=[]),e):[]}var c=["class","bsSize","col"],d=["class","isvalid","bsSize"],v=["class","isvalid","bsSize"],f=["class","isvalid","bsSize"],p=["options"],g=["options","class","bsSize","inline","id","oninput","name","value","disabled","isvalid"],m=["label","type","class","style","bsSize","reverse","id","value","isvalid"],h=["options","style","bsSize","onItemClick","disabled","isvalid"],b=["name","label","input","class","inputClass","bsSize","cols","col","id","separated"],y=["name","value","oninput","cols","onvalidate"],w=["bsSize","class","color","outline","dropdown","type"],x=a.default.tags,k=x.button,S=x.div,C=x.input,D=x.label,z=x.textarea,I=x.select,O=new Map;function A(e,t){var n=e.class,r=e.bsSize,i=e.col,s=o(e,c);return D(l({class:function(){var e="form-label";return a.default.val(i)?(e="col-form-label",a.default.val(r)?e+=" col-"+a.default.val(r)+"-"+a.default.val(i)+" col-form-label-"+a.default.val(r):e+=" col-"+a.default.val(i)):a.default.val(r)&&(e+=" col-form-label-"+a.default.val(r)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},s),t)}function M(e){var t=e.class,n=e.isvalid,r=e.bsSize,i=o(e,d);return C(l({class:function(){var e="form-control";return a.default.val(r)&&(e+=" form-control-"+a.default.val(r)),a.default.val(t)&&(e+=" "+a.default.val(t)),null!=n&&(e+=a.default.val(n)?" is-valid":" is-invalid"),e}},i))}function L(e){var t=e.class,n=e.isvalid,r=e.bsSize,i=o(e,f),u=i.options,c=void 0===u?[]:u,d=o(i,p);return c="function"!=typeof c?s(c,!0,i.value):c(),I(l({class:function(){var e="form-select";return a.default.val(r)&&(e+=" form-select-"+a.default.val(r)),a.default.val(t)&&(e+=" "+a.default.val(t)),null!=n&&(e+=a.default.val(n)?" is-valid":" is-invalid"),e}},d),c)}function E(e){var t=e.options,n=e.class,r=e.bsSize,i=e.inline,u=e.id,c=e.oninput,d=e.name,v=e.value,f=e.disabled,p=e.isvalid,m=o(e,g);d=d||Math.random().toString(36).substring(2,9),u=u||"rgi_"+d,t=s(t);var h=function(e){c&&c({target:{name:d,value:e.target.value,type:"radiogroup"}})},b=t.map(function(e,t){var n=u+"_"+t;return S({class:"form-check"+(i?" form-check-inline":"")},C({class:"form-check-input",type:"radio",id:n,value:e.value,name:d,checked:v===e.value,oninput:h,disabled:f}),D({class:"form-check-label",for:n},e.children))});return S(l({class:function(){var e="form-control";return a.default.val(r)&&(e+=" form-control-"+a.default.val(r)),a.default.val(n)&&(e+=" "+a.default.val(n)),null!=p&&(e+=a.default.val(p)?" is-valid":" is-invalid"),e},disabled:f},m),b)}function P(e){var t=e.label,n=e.type,r=e.class,i=e.style,s=e.bsSize,u=e.reverse,c=e.id,d=e.value,v=e.isvalid,f=o(e,m);c=c||Math.random().toString(36).substring(2,9);var p="switch"===n;return p&&(n="checkbox"),S.apply(void 0,[{class:function(){var e="form-check";return p&&(e+=" form-switch"),a.default.val(s)&&(e+=" form-control-"+a.default.val(s)),a.default.val(u)&&(e+=" form-check-reverse"),a.default.val(r)&&(e+=" "+a.default.val(r)),e},style:i},C(l({},f,{class:function(){var e="form-check-input";return null!=v&&(e+=a.default.val(v)?" is-valid":" is-invalid"),e},id:c,type:n,checked:d||!1,oninput:function(e){e.stopPropagation();var t=e.target,n=t.checked;f.oninput({target:{value:n=!!n,checked:n,name:t.name,type:t.type}})},role:p?"switch":void 0})),function(){return t?D({class:"form-check-label",for:c},t):null}].concat([].slice.call(arguments,1)))}function N(e){var t=a.default.tags,n=t.a,r=t.div,i=t.ul,u=t.li,c=e.options,d=void 0===c?[]:c,v=e.onItemClick,f=e.disabled,p=e.isvalid,g=o(e,h);d=s(d);var m=a.default.state(y(d,a.default.val(e.value)));function b(e,t){var n=e.find(function(e){return e.children===t});return n&&(t=n.value),t}function y(e,t){var n=e.find(function(e){return e.value===t});return n&&(t=n.children),t}return r({style:a.default.val(e.style),class:function(){var t="input-group";return a.default.val(e.bsSize)&&(t+=" input-group-"+a.default.val(e.bsSize)),a.default.val(e.class)&&(t+=" "+a.default.val(e.class)),null!=p&&(t+=a.default.val(p)?" is-valid":" is-invalid"),t}},M(l({},g,{disabled:f,value:m,oninput:function(t){var n=t.target.value;m.val=n,e.oninput({target:{value:b(d,n),name:e.name,type:e.type}})}})),H({dropdown:"true",disabled:f}),i({class:"dropdown-menu"},d.map(function(t){return u(n({class:"dropdown-item",href:"#",onclick:function(){return function(t){var n=e.name,a=e.type;if(t=b(d,t),v){var l=d.find(function(e){return e.children===t});t=v(t,l)}return e.oninput({target:{name:n,value:t,type:a}}),m.val=y(d,t),!1}(t.children)}},t.children))})))}function j(e){var t,n,r,i,s=e.name,u=e.label,c=e.input,d=e.class,v=e.inputClass,f=e.bsSize,p=e.cols,g=e.col,m=e.id,h=e.separated,y=o(e,b),w=[].slice.call(arguments,1),x=null!=m?m:Math.random().toString(36).substring(2,9),k=x+"-i",C=null!=(t=null!=c?c:O.get(y.type))?t:M;if(["checkbox","radio","switch"].includes(y.type)?(h?(r=A({bsSize:f,for:k},u),v=(null!=(i=v)?i:"")+" mt-2",n=C.apply(void 0,[l({bsSize:f,name:s,id:k,class:v},y)].concat(w))):(r=null,n=C.apply(void 0,[l({bsSize:f,name:s,id:k,class:v,label:u},y)].concat(w))),w=[]):(r=A({bsSize:f,for:k},u),n=C(l({bsSize:f,name:s,id:k,class:v},y))),p){var D=p.split(" "),z=D[0],I=D[1];I=I||12-Number(z);var L=[];return L.push(r?A({bsSize:f,col:z,id:x+"-l",for:k},u):S({class:z?"col-"+z:"col"})),L.push(S.apply(void 0,[{class:I?"col-"+I:"col"},n].concat(w))),L}return S.apply(void 0,g?[{class:g},r,n].concat(w):[l({class:function(){var e="";return a.default.val(d)&&(e+=" "+a.default.val(d)),e},id:x},y),r,n].concat(w))}function T(e){var t=(void 0===e?{}:e).values,n=[],o=1,r={values:l({},null!=t?t:{}),onChange:function(e){return n.push(e),function(){return r.offChange(e)}},offChange:function(e){n=n.filter(function(t){return t!==e})},emitChange:function(e,t){n.forEach(function(n){return n(e,t)})},handleInput:function(e){var t,n=e.target,l=n.name,o=n.value;a.default.val(t=r.values[l])!==t?r.values[l].val=o:r.values[l]=o,r.emitChange(l,o)},args:function(e){var t,n;void 0===e&&(e={});var a=e.name,l=void 0===a?"v"+o++:a,i=e.value,s=e.oninput,u=void 0===s?r.handleInput:s;return i=null!=(t=null!=(n=i)?n:r.values[l])?t:"",r.values[l]=i,{name:l,value:i,oninput:u}}};return r}function H(e,t){var n=e.bsSize,r=e.class,i=e.color,s=void 0===i?"secondary":i,u=e.outline,c=e.dropdown,d=e.type,v=void 0===d?"button":d,f=o(e,w);return a.default.val(c)&&(f["data-bs-toggle"]="dropdown"),k(l({type:v,class:function(){var e="btn";return a.default.val(s)&&(a.default.val(u)?e+=" btn-outline-"+a.default.val(s):e+=" btn-"+a.default.val(s)),a.default.val(n)&&(e+=" btn-"+a.default.val(n)),a.default.val(c)&&(e+=" dropdown-toggle"),a.default.val(r)&&(e+=" "+a.default.val(r)),e}},f),t)}O.set("text",M),O.set("textarea",function(e){var t=e.class,n=e.isvalid,r=e.bsSize,i=o(e,v);return z(l({class:function(){var e="form-control";return a.default.val(r)&&(e+=" form-control-"+a.default.val(r)),a.default.val(t)&&(e+=" "+a.default.val(t)),null!=n&&(e+=a.default.val(n)?" is-valid":" is-invalid"),e}},i))}),O.set("select",L),O.set("radioselect",E),O.set("checkbox",P),O.set("radio",P),O.set("switch",P),O.set("combobox",N);var R=["id","class","header","body","footer","close","centered","scrollable","position","width","color","dialogstyle","bodystyle"],F=["label","header","divider","text","active","disabled","class","tag"],V=a.default.tags,B=V.div,G=V.button,W=V.h5;function q(e){void 0===e&&(e={});var t=e.id,n=e.header,a=e.body,r=e.footer,i=e.close,s=void 0===i||i,u=e.centered,c=void 0===u||u,d=e.scrollable,v=e.position,f=e.width,p=e.color,g=e.dialogstyle,m=void 0===g?"":g,h=e.bodystyle,b=void 0===h?"":h,y=o(e,R);f&&(m+="width: "+f+";"),f&&(m+="max-width: inherit;"),v&&(m+="margin-left: "+v.left+"px; margin-top: "+v.top+"px;",c=!1);var w="modal-dialog"+(c?" modal-dialog-centered":"")+(d?" modal-dialog-scrollable":""),x="modal-content"+(p?" "+p:"");return"string"==typeof n&&(n=W({class:"modal-title"},n)),B(l({class:function(){return"modal"},id:t,"aria-hidden":"true",tabindex:"-1"},y),B({class:w,style:m},B({class:x},n||s?B({class:"modal-header"},n,s?U:null):null,a&&B({class:"modal-body",style:b},a),r&&B({class:"modal-footer"},r))))}function K(e,n){var a,o;void 0===e&&(e={});var r,i=null==(a=null==n?void 0:n.dispose)||a,s={dom:null,isOpen:!1,modalResult:void 0,open:function(t,n){s.modalResult=void 0,null!=t&&null!=n&&(e=l({},e,{position:{left:t,top:n}})),s.bsm.show()},close:function(e){s.modalResult=e,s.bsm.hide()},asyncOpen:function(e,t){try{return Promise.resolve(new Promise(function(n){s.open(e,t),s.dom.addEventListener("hidden.bs.modal",function(){return n(s.modalResult)})}))}catch(e){return Promise.reject(e)}},get bsm(){return o||(s.dom=q(e),o=new t.Modal(s.dom,n),s.dom.addEventListener("shown.bs.modal",s.onShown),s.dom.addEventListener("hidden.bs.modal",s.onHidden)),o},dispose:function(){o&&(o.dispose(),o=null),s.dom&&(s.dom.remove(),s.dom=null)},hide:function(e){r=e,o.hide()},show:function(){o.show()},onShown:function(e){s.isOpen=!0},onHidden:function(e){s.isOpen=!1,r?r=!1:i&&s.dispose()}};return s}function U(e,t){return G({type:"button",class:(void 0===e?{}:e).class||"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},t)}function _(){return a.default.tags.ul.apply(void 0,[{class:"dropdown-menu",style:"display: table; z-index: 0; position: inherit; min-width: 10rem; max-height: 400px; overflow-y: auto;"}].concat([].slice.call(arguments).map(function(e){return e instanceof HTMLElement?e:Y(e)})))}function X(){return a.default.tags.ul.apply(void 0,[{class:"dropdown-menu"}].concat([].slice.call(arguments).map(function(e){return e instanceof HTMLElement?e:Y(e)})))}function Y(e){var t=a.default.tags,n=t.li,r=t.span,i=t.hr,s=t.button,u=function(e){e.preventDefault(),e.stopPropagation()},c=e.label,d=e.header,v=e.divider,f=e.text,p=e.active,g=e.disabled,m=e.class,h=e.tag,b=o(e,F),y=function(e){return function(){var t=e;return a.default.val(p)&&(t+=" active"),a.default.val(g)&&(t+=" disabled"),a.default.val(m)&&(t+=" "+a.default.val(m)),t}};return n(d?(h=h?a.default.tags[h]:r)(l({class:y("dropdown-header fw-bold border-bottom"),onclick:u},b),c):v?(h=h?a.default.tags[h]:i)(l({class:y("dropdown-divider"),onclick:u},b),c):f?(h=h?a.default.tags[h]:r)(l({class:y("dropdown-item-text"),onclick:u},b),c):(h=h?a.default.tags[h]:s)(l({class:y("dropdown-item"),role:"button"},b),c))}var J=["class","sticky","menu","t"],Q=["href","label","icon","items","level","Comp","hidden","t"],Z=["label","class","active","disabled","divider","level"],$=["label","items","t","level"],ee=a.default.tags,te=ee.div,ne=ee.button,ae=ee.hr,le=ee.span,oe=ee.nav,re=ee.a,ie=ee.ul,se=ee.li;function ue(e){var t=e.href,n=void 0===t?"#":t,r=e.label,i=e.icon,s=e.items,u=e.level,c=void 0===u?0:u,d=e.Comp,v=e.hidden,f=void 0!==v&&v,p=e.t,g=void 0===p?function(e){return e}:p,m=o(e,Q);return"function"==typeof f&&(f=f()),f?null:("function"==typeof r&&(r=r()),r=r?g(a.default.val(r)):"",m.title&&(m.title=g(a.default.val(m.title))),s?de(l({label:r,items:s,level:c,t:g},m)):se({class:function(){var e="nav-item";return 0!==c&&(e=""),a.default.val(m.class)&&(e+=" "+a.default.val(m.class)),e}},d?d(l({href:n,label:r,icon:i,items:s,level:c,hidden:f,t:g},m)):ce(l({},m,{href:n,label:r,level:c}))))}function ce(e){var t=e.label,n=e.class,r=e.active,i=e.disabled,s=e.divider,u=e.level,c=void 0===u?0:u,d=o(e,Z);return s?ae({class:"dropdown-divider"}):re(l({class:function(){var e="nav-link";return 0!==c&&(e="dropdown-item"),a.default.val(r)&&(e+=" active"),a.default.val(r)&&0===c&&(e+=" text-primary"),a.default.val(i)&&(e+=" disabled"),a.default.val(n)&&(e+=" "+a.default.val(n)),e},href:"#"},d),t)}function de(e){var t=e.label,n=e.items,a=e.t,r=void 0===a?function(e){return e}:a,i=e.level,s=o(e,$);return i>0?se({},re({class:"dropdown-item",href:"#"},t+" »"),ie({class:"submenu dropdown-menu"},n.map(function(e){return ue(l({level:i+1,t:r},e))}))):se({class:"nav-item dropdown",id:"NavDropdown"+i},re({class:"nav-link dropdown-toggle",href:"#","data-bs-toggle":"dropdown"},t),ie({class:"dropdown-menu"},n.map(function(e){return ue(l({level:i+1},e,{t:r},s))})))}function ve(e,t){for(var n in t)try{e[n]=t[n].constructor===Object?ve(e[n],t[n]):t[n]}catch(a){e[n]=t[n]}return e}var fe=["attr","size","title"],pe=["src","alt"],ge=["size","style"],me=["size"],he=["size"],be=new Map,ye=0,we=new Map;function xe(e){if("string"!=typeof e)return!1;var t=be.get(e);return!t&&ye>0&&!we.get(e)&&(console.warn("Get unknown icon",e),we.set(e,!0)),t}function ke(e){var t;void 0===e&&(e={});var n=e.attr,r=e.size,i=e.title,s=o(e,fe),u=r||"1em",c="";e.class&&(c+=(c?c+" ":"")+e.class);var d=e.color?"color: "+e.color+"; ":"";return e.style&&(d+=e.style),(t=a.default.tagsNS("http://www.w3.org/2000/svg")).svg.apply(t,[l({stroke:"currentColor",fill:"currentColor","stroke-width":"0"},n,s,{class:c,style:d,height:u,width:u}),i?a.default.tagsNS("http://www.w3.org/2000/svg").title(i):null].concat([].slice.call(arguments,1)))}function Se(e,t){return void 0===t&&(t={}),function(n){var a=void 0===n?{}:n,l=a.size,r=void 0===l?"1em":l,i=o(a,me),s=document.createElement("div");return s.innerHTML=e,s=s.firstChild,i.width=r,i.height=r,Object.keys(t).forEach(function(e){return s.setAttribute(e,t[e])}),Object.keys(i).forEach(function(e){return s.setAttribute(e,i[e])}),s}}function Ce(e,t){var n=void 0===t?{}:t,r=n.size,i=o(n,he),s=xe(e);if(s){if("function"==typeof s)return s(l({size:r},i));e=s}if("function"==typeof e)return i.size=r,e(l({},i));if("string"==typeof e&&e.startsWith("fa"))return void 0!==r&&(i.style=i.style=l({},i.style||{},{fontSize:r})),i.class=i.class?i.class+" "+e:e,a.default.tags.i(l({},i));if("string"==typeof e&&e.startsWith("<svg "))return Se(e)(l({size:r},i));if("string"==typeof e){if(void 0!==r){var u="font-size:"+r+";";i.style&&(u+=i.style),i.style=u}return a.default.tags.span(l({},i),e)}var c="width:"+(r=void 0===r?"1em":r)+"; height:"+r+"; min-width:"+r+";";return i.style&&(c+=i.style),i.style=c,a.default.tags.div(l({},i))}function De(e,t){var n={dragProps:function(e){return{draggable:!0,ondragstart:n.onDragStart,ondrop:n.onDrop,ondragover:n.onDragOver,ondragleave:n.onDragLeave,"data-position":e}},isDropArea:function(e){return n.dragAndDrop&&n.dragAndDrop.draggedTo===Number(e)},onDragStart:function(t){var a=Number(t.currentTarget.dataset.position);n.setDragAndDrop(l({},n.dragAndDrop,{draggedFrom:a,isDragging:!0,originalOrder:e})),t.dataTransfer.setData("text/html","")},onDragOver:function(e){e.preventDefault();var t=n.dragAndDrop.originalOrder,a=n.dragAndDrop.draggedFrom,o=Number(e.currentTarget.dataset.position),r=t[a],i=t.filter(function(e,t){return t!==a});t=[].concat(i.slice(0,o),[r],i.slice(o)),o!==n.dragAndDrop.draggedTo&&n.setDragAndDrop(l({},n.dragAndDrop,{updatedOrder:t,draggedTo:o}))},onDrop:function(e){t(n.dragAndDrop.updatedOrder),n.setDragAndDrop(l({},n.dragAndDrop,{draggedFrom:null,draggedTo:null,isDragging:!1}))},onDragLeave:function(){n.setDragAndDrop(l({},n.dragAndDrop,{draggedTo:null}))},dragAndDrop:{draggedFrom:null,draggedTo:null,isDragging:!1,originalOrder:[],updatedOrder:[]},setDragAndDrop:function(e){return n.dragAndDrop=e}};return n}be.set("SPACE",function(e){return Ce(" ",l({},e))});var ze=["value","commaValue","options","oninput","disabled","onContextMenu","dragSort","delIcon","orderIcon","allowCreate","multi","bsSize","closeOnCheck","tagColor","style","placeholder","loading","tabindex","icons","t"],Ie=["onChange"],Oe=["class","bsSize"],Ae=["class","bsSize"],Me=["Enter"," ",","],Le=function(e){return"string"==typeof e&&"-"===e[0]},Ee=function(e){return Le(e)?e.substring(1):e},Pe=function(e){return Ce("🗙",e)},Ne=function(e){return Ce("☒",e)},je=function(e){return Ce("☐",e)},Te=function(e){return Ce(Se('<svg viewBox="0 0 576 512"><path d="M183.6 42.4C177.5 35.8 169 32 160 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L128 146.3V448c0 17.7 14.3 32 32 32s32-14.3 32-32V146.3l32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 320c0 17.7 14.3 32 32 32h50.7l-73.4 73.4c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H429.3l73.4-73.4c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8H352c-17.7 0-32 14.3-32 32zM416 32c-12.1 0-23.2 6.8-28.6 17.7l-64 128-16 32c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l7.2-14.3h88.4l7.2 14.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9l-16-32-64-128C439.2 38.8 428.1 32 416 32zM395.8 176L416 135.6 436.2 176H395.8z" /></svg>',l({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},e)))},He=function(e){return Ce(Se('<svg viewBox="0 0 576 512"><path d="M183.6 469.6C177.5 476.2 169 480 160 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L128 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 320c0-17.7 14.3-32 32-32H480c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9L429.3 416H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H352c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9L402.7 352H352c-17.7 0-32-14.3-32-32zM416 32c12.1 0 23.2 6.8 28.6 17.7l64 128 16 32c7.9 15.8 1.5 35-14.3 42.9s-35 1.5-42.9-14.3L460.2 224H371.8l-7.2 14.3c-7.9 15.8-27.1 22.2-42.9 14.3s-22.2-27.1-14.3-42.9l16-32 64-128C392.8 38.8 403.9 32 416 32zM395.8 176h40.4L416 135.6 395.8 176z" /></svg>',l({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},e)))},Re={remove:"remove",ascending:"ascending",descending:"descending",edplaceholder:"enter new tag"},Fe=a.default.tags,Ve=Fe.div,Be=Fe.span;function Ge(e){var t=e.tagData;if(a.default.val(t.loading))return qe({},Ve({class:"spinner-border spinner-border-sm "+t.tagColor.replace("-bg",""),role:"status"},Be({class:"visually-hidden"},"Loading...")));var n=!(!t.dragSort||!t.multi||t.disabled)&&De(t.listvalue.val,function(e){return t.saveItems(e)}),o=t.listvalue.val.map(function(e,a){return function(e){var t,n,a,o=e.tagData,r=e.item,i=e.idx,s=e.drag,u=(t=o.options,n=Ee(r),(a=t.find(function(e){return e.value===n}))&&(n=a.children),n),c={class:"badge "+o.tagColor+" me-1 my-1",style:"fontSize: 90%;"};s&&(c=l({},c,{style:c.style+"cursor: grab;"},s.dragProps(i)));var d,v=function(e){return Ve({class:e,role:"button",title:o.t("remove"),onclick:function(e){e.preventDefault(),e.stopPropagation(),o.checkItem(r,!1)}},o.icons.IconDelete)},f=[];return"left"===o.delIcon&&f.push(v("me-1")),f.push(u),o.orderIcon&&f.push((d=Le(r),Ve({class:"ms-1",role:"button",title:o.t(d?"descending":"ascending"),onclick:function(e){e.preventDefault(),e.stopPropagation(),o.onOrderClick(r,!d)}},d?o.icons.IconDsc:o.icons.IconAsc))),"right"===o.delIcon&&f.push(v("ms-1")),Be(l({},c),Ve.apply(void 0,[{class:"d-flex"}].concat(f)))}({tagData:t,item:e,idx:a,drag:n})});return 0===o.length&&t.placeholder&&(o="string"==typeof t.placeholder?[Be({class:"text-muted"},t.placeholder)]:[placeholder]),qe.apply(void 0,[{tabindex:t.tabindex,onclick:function(e){e.preventDefault(),e.stopPropagation(),t.toggleDropdown()}}].concat(o))}function We(e){var t=e.onChange,n=o(e,Ie),a="";return M({type:"text",value:a,bsSize:n.bsSize,placeholder:n.placeholder,oninput:function(e){a=e.target.value},onblur:function(){t(a)},onkeypress:function(e){Me.includes(e.key)&&(e.preventDefault(),e.stopPropagation(),t(a),a="")}})}function qe(e){var t=void 0===e?{}:e,n=t.class,r=t.bsSize,i=o(t,Oe);return Ve.apply(void 0,[l({class:function(){var e="form-control";return a.default.val(r)&&(e+=" form-control-"+a.default.val(r)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},i)].concat([].slice.call(arguments,1)))}function Ke(e,t){return e=s(e),t.forEach(function(t){t=Ee(t),e.find(function(e){return e.value===t})||e.unshift({value:t,children:t,key:t})}),e}exports.Button=H,exports.CheckboxInput=function(e){return P(l({},e,{type:"checkbox"}))},exports.CloseButton=U,exports.ComboboxInput=N,exports.ContextMenu=function(){var e=_.apply(void 0,[].slice.call(arguments)),t=K({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:e});e.addEventListener("click",function(){return t.close()});var n=t.open;return t.open=function(e){e.preventDefault(),e.stopPropagation(),n(e.clientX,e.clientY)},t},exports.DragSort=De,exports.DropdownMenu=X,exports.FormBuilder=function(e){var t=void 0===e?{}:e,n=t.dom,r=t.rowClass,i=void 0===r?"":r,s=t.formClass,u=void 0===s?"":s,c=t.cols,d=t.autoRow,v=t.bsSize,f=t.id,p=t.onChange,g=function(e){var t=Number(e);return isNaN(t)?0:t},m=T({values:t.values});p&&m.onChange(p);var h=l({},m,{dom:null!=n?n:a.default.tags.form({class:u}),row:null,rowClass:i,cols:c,autoRow:d,colCount:0,id:null!=f?f:Math.random().toString(36).substring(2,9),valid:{},onvalidate:{},getFormValid:function(){return Object.keys(h.valid).every(function(e){return h.valid[e].val})},add:function(e){var t=e.name,n=e.value,r=e.oninput,i=e.cols,s=e.onvalidate,u=o(e,y);void 0===n&&t&&(n=h.values[t]);var c,d,f,p=l({},u,m.args({name:t,value:n,oninput:r}));return p.id=p.id||h.id+"-"+t,v&&void 0===p.bsSize&&(p.bsSize=v),p.cols=i||h.cols,h.autoRow&&(f=(c=p.cols.split(" "))[1],i={l:d=g(d=c[0]),r:f=(f=g(f))||12-d,t:d+f,s:d+" "+f},h.row||(h.addRow(),h.colCount=0),h.colCount+=i.t,p.cols=i.s,h.colCount>12&&(h.addRow(),h.colCount=i.t)),s&&(h.onvalidate[p.name]=s,h.valid[p.name]=a.default.state(s(h.values[p.name])),p.isvalid=h.valid[p.name]),h.addGroup.apply(h,[p].concat([].slice.call(arguments,1))),h},addGroup:function(e){var t;a.default.add(null!=(t=h.row)?t:h.dom,j.apply(void 0,[e].concat([].slice.call(arguments,1))))},addRow:function(e){return null===e?h.row=null:(h.row=S({class:"row"+(h.rowClass?" "+h.rowClass:"")+(e?" "+e:"")}),a.default.add(h.dom,h.row),h)}});return h.onChange(function(e,t){h.onvalidate[e]&&(h.valid[e].val=h.onvalidate[e](t))}),h},exports.FormCheckInput=P,exports.FormController=T,exports.FormGroup=j,exports.FormLabel=A,exports.GenIcon=function(e){function t(e){return e&&e.map(function(e,n){return a.default.tagsNS("http://www.w3.org/2000/svg")[e.tag](l({},e.attr),t(e.child))})}return"svg"===e.tag?function(n){var o;return void 0===n&&(n={}),(o=a.default.tagsNS("http://www.w3.org/2000/svg")).svg.apply(o,[l({},e.attr,n)].concat(t(e.child)))}:function(n){return void 0===n&&(n={}),ke.apply(void 0,[l({},e.attr,n)].concat(t(e.child)))}},exports.I18n=function(){var e={dict:{},language:"en",languageDefault:"en",setLanguage:function(t){e.language=String(t).toLowerCase(),e.dict[e.language]||(e.language=e.languageDefault)},getLanguage:function(){return e.language},t:function(t){if("function"==typeof t&&(t=t()),!t)return"";var n=function(e,t){try{t=t.split(".");for(var n=0;n<t.length;n++){if(!e)return e;e=e[t[n]]}}catch(e){return!1}return e}(e.dict[e.language],t);return n||(n=t.split(".").pop()),n},tPath:function(t){return t.endsWith(".")||(t+="."),function(n){return e.t(t+n)}},addWords:function(t,n,a){var l,o;a&&((l={})[a]=t,t=l),n&&((o={})[n]=t,t=o),ve(e.dict,t)}};return e},exports.Icon=Ce,exports.ImgIcon=function(e){var t=e.src,n=e.alt,r=o(e,pe);return function(e){var i=void 0===e?{}:e,s=i.size,u=void 0===s?"1em":s,c=i.style,d=void 0===c?"":c,v=o(i,ge);return a.default.tags.img(l({src:t,alt:n||t.split("/").pop(),style:d+"width:"+u+"; height:"+u+";"},r,v))}},exports.Input=M,exports.MenuItem=Y,exports.Modal=K,exports.ModalFrame=q,exports.NavItem=ue,exports.NavLink=ce,exports.NavMenu=de,exports.Navbar=function(e){var t=e.class,n=e.sticky,r=void 0===n||n,i=e.menu,s=e.t,u=void 0===s?function(e){return e}:s;return o(e,J),oe({class:function(){var e="navbar navbar-expand-lg bg-body-tertiary";return r&&(e+=" sticky-top"),a.default.val(t)&&(e+=" "+a.default.val(t)),e}},te({class:"container-fluid"},i.brand,ne({class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},le({class:"navbar-toggler-icon"})),te({class:"collapse navbar-collapse",id:"navbarSupportedContent"},ie({class:"me-auto navbar-nav"},i.items.map(function(e){return ue(l({},e,{t:u}))})))))},exports.PopupMenu=function(){var e=_.apply(void 0,[].slice.call(arguments)),t=K({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:e});return e.addEventListener("click",function(){return t.close()}),t},exports.PopupMenuFrame=_,exports.RadioInput=function(e){return P(l({},e,{type:"radio"}))},exports.RadioSelectInput=E,exports.SelectInput=L,exports.SvgIconBase=ke,exports.SvgStrIcon=Se,exports.SwitchInput=function(e){return P(l({},e,{type:"switch"}))},exports.TagInput=function(e){var t,n,r,i=e.value,s=e.commaValue,u=void 0===s||s,c=e.options,d=void 0===c?[]:c,v=e.oninput,f=e.disabled,p=e.onContextMenu,g=e.dragSort,m=void 0===g||g,h=e.delIcon,b=void 0===h?"none":h,y=e.orderIcon,w=void 0!==y&&y,x=e.allowCreate,k=void 0===x||x,S=e.multi,C=void 0===S||S,D=e.bsSize,z=void 0===D?"":D,I=e.closeOnCheck,O=void 0!==I&&I,A=e.tagColor,M=e.style,L=e.placeholder,E=e.loading,P=e.tabindex,N=void 0===P?0:P,j=e.icons,T=e.t,R=o(e,ze);"string"==typeof(i=a.default.val(i))&&(i=i.split(",")),i&&Array.isArray(i)||(i=[]),i=i.filter(function(e){return e}),M=(null!=(t=M)?t:"")+" heigt: auto;";var F={items:a.default.state(i),listvalue:a.default.state(i),options:Ke(d,i),disabled:f,onContextMenu:p,dragSort:m,delIcon:b,orderIcon:w,allowCreate:k,multi:C,closeOnCheck:O,bsSize:z,tagColor:A||"text-bg-primary",placeholder:L,loading:E,tabindex:N,icons:l({IconDelete:Pe,IconCheck:Ne,IconUncheck:je,IconAsc:Te,IconDsc:He},j||{}),t:T||function(e){var t;return null!=(t=Re[e])?t:e},checkItem:function(e,t){e=Ee(e),this.saveItems(this.multi?t?[].concat(this.items.val,[e]):this.items.val.filter(function(t){return Ee(t)!==e}):t?[e]:[])},saveItems:function(e){this.items.val=e,!this.isOpen&&v&&(this.listvalue.val=e,v({target:{name:R.name,value:u?e.join(","):e,type:"tagedit"}}))},checkAll:function(e,t){this.multi?this.saveItems(t?[].concat(this.options.map(function(e){return e.value})):[]):this.checkItem(e,t)},onOrderClick:function(e,t){var n=this.items.val.indexOf(e),a=Le(e);if(-1!==n&&t!==a){var l=[].concat(this.items.val);l[n]=t?"-"+e:e.substring(1),this.saveItems(l)}},newItem:function(e){e&&!this.items.val.some(function(t){return Ee(t)===e})&&(this.hideDropdown(),this.checkItem(e,!0))},showDropdown:function(){this.isOpen||this.toggleDropdown()},hideDropdown:function(){this.isOpen&&this.toggleDropdown()},toggleDropdown:function(){n.click()}};return n=H({dropdown:!0,disabled:f}),r=function(e){var t=e.tagData,n=t.options.map(function(e){return function(e){var t=e.tagData,n=e.item,a=t.multi&&!t.closeOnCheck?function(e){e.preventDefault(),e.stopPropagation()}:function(){},l=function(){return!!t.items.val.find(function(e){return Ee(e)===n.value})};return Y(""===n.value?{class:"py-0",divider:1}:{label:Ve({class:"d-flex align-items-center"},function(){return l()?t.icons.IconCheck({class:"me-1"}):t.icons.IconUncheck({class:"me-1"})},n.children),class:"py-0",onclick:function(e){a(e),e.ctrlKey?t.checkAll(n.value,!l()):t.checkItem(n.value,!l())},onkeydown:function(e){32===e.which&&(a(e),e.ctrlKey?t.checkAll(n.value,!l()):t.checkItem(n.value,!l()))}})}({tagData:t,item:e})});return t.allowCreate&&(n.unshift(Y({divider:1})),n.unshift(Y({text:!0,tag:"div",toggle:!1,label:We({bsSize:t.bsSize,tabIndex:"0",placeholder:t.t("edplaceholder"),onChange:function(e){return t.newItem(e)}})}))),X.apply(void 0,n)}({tagData:F}),n.addEventListener("shown.bs.dropdown",function(e){F.isOpen=!0}),n.addEventListener("hidden.bs.dropdown",function(e){F.isOpen=!1,F.saveItems(F.items.val)}),function(e){var t=void 0===e?{}:e,n=t.class,r=t.bsSize,i=o(t,Ae);return Ve.apply(void 0,[l({class:function(){var e="input-group";return a.default.val(r)&&(e+=" input-group-"+a.default.val(r)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},i)].concat([].slice.call(arguments,1)))}(l({bsSize:z},R,{style:M}),Ge({tagData:F}),n,r)},exports.getIcon=xe,exports.iconMap=be,exports.selectOptions=s,exports.setIcon=function(e,t){ye>1&&be.get(e)&&console.warn("Redefine icon",e),be.set(e,t)},exports.setWarning=function(e){switch(e){case 0:case 1:case 2:ye=e;break;case"all":ye=2;break;case"get":ye=1;break;default:ye=0}},exports.typeMap=O,exports.version="vanjs-bootstrap 1.0.3 LICENSE MIT (c) 2023 by Geoffrey Emmans";
//# sourceMappingURL=lib.js.map
