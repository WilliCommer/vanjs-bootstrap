var e=require("vanjs-core"),t=require("bootstrap");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/n(e);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t.indexOf(n=r[a])>=0||(o[n]=e[n]);return o}var l=a.default.tags.option,i=console.warn;function s(e,t,n){return e&&!Array.isArray(e)&&"object"==typeof e&&e.value&&(e=function(e){var t=e.value,n=e.text;return t?(t=u(t,!0),n=u(n,!1),t.map(function(e,t){return{value:e,text:n[t]}})):[]}(e)),e=(e=u(e||[],!0)).map(function(e){var t={value:"",children:""};return e?Array.isArray(e)?(e.length>0&&(t.value=e[0],t.children=e[0]),e.length>1&&(t.value=e[1]),t):"object"==typeof e?(t.value=e.value,t.children=e.value,["children","text","displayValue"].some(function(n){return void 0!==e[n]&&(t.children=e[n],!0)}),t):(t.value=e,t.children=e,t):t}),t?e.map(function(e){var t={value:e.value};return void 0!==n&&e.value===n&&(t.selected=!0),l(t,e.children)}):e}function u(e,t){return e?("string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(t&&i("parseSelectOptions value invalid"),e=[]),e):[]}var c=["class","bsSize"],d=["class","bsSize","col"],v=["class","bsSize"],f=["class","bsSize"],p=["options"],g=["options","class","bsSize","inline","id"],m=["label","type","class","style","bsSize","reverse","id","value"],h=["options","style","bsSize","onItemClick"],b=["name","label","input","class","bsSize","cols","id"],y=["name","value","oninput"],w=["bsSize","class","color","outline","dropdown","type"],x=a.default.tags,k=x.a,D=x.button,S=x.div,I=x.input,z=x.label,C=x.textarea,O=x.li,A=x.ul,M=x.select,L=new Map;function E(e){var t=e.class,n=e.bsSize,l=r(e,c);return I(o({class:function(){var e="form-control";return a.default.val(n)&&(e+=" form-control-"+a.default.val(n)),a.default.val(t)&&(e+=" "+a.default.val(t)),e}},l))}function P(e,t){var n=e.class,l=e.bsSize,i=e.col,s=r(e,d);return z(o({class:function(){var e="form-label";return a.default.val(i)?(e="col-form-label",a.default.val(l)?e+=" col-"+a.default.val(l)+"-"+a.default.val(i)+" col-form-label-"+a.default.val(l):e+=" col-"+a.default.val(i)):a.default.val(l)&&(e+=" col-form-label-"+a.default.val(l)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},s),t)}function T(e){var t=e.class,n=e.bsSize,l=r(e,f),i=l.options,u=void 0===i?[]:i,c=r(l,p);return u="function"!=typeof u?s(u,!0,l.value):u(),M(o({class:function(){var e="form-select";return a.default.val(n)&&(e+=" form-select-"+a.default.val(n)),a.default.val(t)&&(e+=" "+a.default.val(t)),e}},c),u)}function j(e){var t=e.options,n=e.class,o=e.bsSize,l=e.inline,i=e.id,u=r(e,g),c=u.name||Math.random().toString(36).substring(2,9);i=i||"rgi_"+c,t=s(t);var d=function(e){u.oninput&&u.oninput({target:{name:c,value:e.target.value,type:"radiogroup"}})},v=t.map(function(e,t){var n=i+"_"+t;return S({class:"form-check"+(l?" form-check-inline":"")},I({class:"form-check-input",type:"radio",id:n,value:e.value,name:c,checked:u.value===e.value,oninput:d}),z({class:"form-check-label",for:n},e.children))});return S({class:function(){var e="form-control";return a.default.val(o)&&(e+=" form-control-"+a.default.val(o)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},v)}function H(e){var t=e.label,n=e.type,l=e.class,i=e.style,s=e.bsSize,u=e.reverse,c=e.id,d=e.value,v=r(e,m);c=c||Math.random().toString(36).substring(2,9);var f="switch"===n;return f&&(n="checkbox"),S({class:function(){var e="form-check";return f&&(e+=" form-switch"),a.default.val(s)&&(e+=" form-control-"+a.default.val(s)),a.default.val(u)&&(e+=" form-check-reverse"),a.default.val(l)&&(e+=" "+a.default.val(l)),e},style:i},I(o({},v,{class:"form-check-input",id:c,type:n,checked:d||!1,oninput:function(e){var t=e.target,n=t.checked;v.oninput({target:{value:n=!!n,checked:n,name:t.name,type:t.type}})},role:f?"switch":void 0})),function(){return t?z({class:"form-check-label",for:c},t):null})}function N(e){var t=e.options,n=void 0===t?[]:t,l=e.onItemClick,i=r(e,h);n=s(n);var u=a.default.state(d(n,a.default.val(e.value)));function c(e,t){var n=e.find(function(e){return e.children===t});return n&&(t=n.value),t}function d(e,t){var n=e.find(function(e){return e.value===t});return n&&(t=n.children),t}return S({style:a.default.val(e.style),class:function(){var t="input-group";return a.default.val(e.bsSize)&&(t+=" input-group-"+a.default.val(e.bsSize)),a.default.val(e.class)&&(t+=" "+a.default.val(e.class)),t}},E(o({},i,{value:u,oninput:function(t){var a=t.target.value;u.val=a,e.oninput({target:{value:c(n,a),name:e.name,type:e.type}})}})),S({class:"dropdown"},D({class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}),A({class:"dropdown-menu"},n.map(function(t){return O(k({class:"dropdown-item",href:"#",onclick:function(){return function(t){var a=e.name,o=e.type;if(t=c(n,t),l){var r=n.find(function(e){return e.children===t});t=l(t,r)}return e.oninput({target:{name:a,value:t,type:o}}),u.val=d(n,t),!1}(t.children)}},t.children))}))))}function F(e){var t,n=e.name,l=e.label,i=e.input,s=e.class,u=e.bsSize,c=e.cols,d=e.id,v=r(e,b),f=null!=d?d:Math.random().toString(36).substring(2,9),p="i_"+f,g=null!=(t=null!=i?i:L.get(v.type))?t:E;if(c){var m=c.split(" "),h=m[1];return[P({bsSize:u,col:m[0],for:p},l),S({class:function(){var e=h?"col-"+h:"col";return["checkbox","radio","switch"].includes(v.type)&&(e+=" pt-2"),e}},g(o({bsSize:u,name:n,id:p},v)))]}return S(o({class:function(){var e="";return a.default.val(s)&&(e+=" "+a.default.val(s)),e},id:f},v),P({bsSize:u,for:p},l),g(o({bsSize:u,name:n,id:p},v)))}function R(e){var t=(void 0===e?{}:e).values,n=[],r=1,l={values:o({},null!=t?t:{}),onChange:function(e){return n.push(e),function(){return l.offChange(e)}},offChange:function(e){n=n.filter(function(t){return t!==e})},emitChange:function(e,t){n.forEach(function(n){return n(e,t)})},handleInput:function(e){var t,n=e.target,o=n.name,r=n.value;a.default.val(t=l.values[o])!==t?l.values[o].val=r:l.values[o]=r,l.emitChange(o,r)},args:function(e){var t,n;void 0===e&&(e={});var a=e.name,o=void 0===a?"v"+r++:a,i=e.value,s=e.oninput,u=void 0===s?l.handleInput:s;return i=null!=(t=null!=(n=i)?n:l.values[o])?t:"",l.values[o]=i,{name:o,value:i,oninput:u}}};return l}function V(e,t){var n=e.bsSize,l=e.class,i=e.color,s=void 0===i?"secondary":i,u=e.outline,c=e.dropdown,d=e.type,v=void 0===d?"button":d,f=r(e,w);return a.default.val(c)&&(f["data-bs-toggle"]="dropdown"),D(o({type:v,class:function(){var e="btn";return a.default.val(s)&&(a.default.val(u)?e+=" btn-outline-"+a.default.val(s):e+=" btn-"+a.default.val(s)),a.default.val(n)&&(e+=" btn-"+a.default.val(n)),a.default.val(c)&&(e+=" dropdown-toggle"),a.default.val(l)&&(e+=" "+a.default.val(l)),e}},f),t)}L.set("text",E),L.set("textarea",function(e){var t=e.class,n=e.bsSize,l=r(e,v);return C(o({class:function(){var e="form-control";return a.default.val(n)&&(e+=" form-control-"+a.default.val(n)),a.default.val(t)&&(e+=" "+a.default.val(t)),e}},l))}),L.set("select",T),L.set("radioselect",j),L.set("checkbox",H),L.set("radio",H),L.set("switch",H),L.set("combobox",N);var B=["id","class","header","body","footer","close","centered","scrollable","position","width","color","dialogstyle","bodystyle"],W=["label","header","divider","text","active","disabled","class","tag"],G=a.default.tags,_=G.div,q=G.button,K=G.h5;function U(e){void 0===e&&(e={});var t=e.id,n=e.header,a=e.body,l=e.footer,i=e.close,s=void 0===i||i,u=e.centered,c=void 0===u||u,d=e.scrollable,v=e.position,f=e.width,p=e.color,g=e.dialogstyle,m=void 0===g?"":g,h=e.bodystyle,b=void 0===h?"":h,y=r(e,B);f&&(m+="width: "+f+";"),f&&(m+="max-width: inherit;"),v&&(m+="margin-left: "+v.left+"px; margin-top: "+v.top+"px;",c=!1);var w="modal-dialog"+(c?" modal-dialog-centered":"")+(d?" modal-dialog-scrollable":""),x="modal-content"+(p?" "+p:"");return"string"==typeof n&&(n=K({class:"modal-title"},n)),_(o({class:function(){return"modal"},id:t,"aria-hidden":"true",tabindex:"-1"},y),_({class:w,style:m},_({class:x},n||s?_({class:"modal-header"},n,s?Y:null):null,a&&_({class:"modal-body",style:b},a),l&&_({class:"modal-footer"},l))))}function X(e,n){var a,r;void 0===e&&(e={});var l,i=null==(a=null==n?void 0:n.dispose)||a,s={dom:null,isOpen:!1,modalResult:void 0,open:function(t,n){s.modalResult=void 0,null!=t&&null!=n&&(e=o({},e,{position:{left:t,top:n}})),s.bsm.show()},close:function(e){s.modalResult=e,s.bsm.hide()},asyncOpen:function(e,t){try{return Promise.resolve(new Promise(function(n){s.open(e,t),s.dom.addEventListener("hidden.bs.modal",function(){return n(s.modalResult)})}))}catch(e){return Promise.reject(e)}},get bsm(){return r||(s.dom=U(e),r=new t.Modal(s.dom,n),s.dom.addEventListener("shown.bs.modal",s.onShown),s.dom.addEventListener("hidden.bs.modal",s.onHidden)),r},dispose:function(){r&&(r.dispose(),r=null),s.dom&&(s.dom.remove(),s.dom=null)},hide:function(e){l=e,r.hide()},show:function(){r.show()},onShown:function(e){s.isOpen=!0},onHidden:function(e){s.isOpen=!1,l?l=!1:i&&s.dispose()}};return s}function Y(e,t){return q({type:"button",class:(void 0===e?{}:e).class||"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},t)}function J(){return a.default.tags.ul.apply(void 0,[{class:"dropdown-menu",style:"display: table; z-index: 0; position: inherit; min-width: 10rem; max-height: 400px; overflow-y: auto;"}].concat([].slice.call(arguments).map(function(e){return e instanceof HTMLElement?e:Z(e)})))}function Q(){return a.default.tags.ul.apply(void 0,[{class:"dropdown-menu"}].concat([].slice.call(arguments).map(function(e){return e instanceof HTMLElement?e:Z(e)})))}function Z(e){var t=a.default.tags,n=t.li,l=t.span,i=t.hr,s=t.button,u=function(e){e.preventDefault(),e.stopPropagation()},c=e.label,d=e.header,v=e.divider,f=e.text,p=e.active,g=e.disabled,m=e.class,h=e.tag,b=r(e,W),y=function(e){return function(){var t=e;return a.default.val(p)&&(t+=" active"),a.default.val(g)&&(t+=" disabled"),a.default.val(m)&&(t+=" "+a.default.val(m)),t}};return n(d?(h=h?a.default.tags[h]:l)(o({class:y("dropdown-header fw-bold border-bottom"),onclick:u},b),c):v?(h=h?a.default.tags[h]:i)(o({class:y("dropdown-divider"),onclick:u},b),c):f?(h=h?a.default.tags[h]:l)(o({class:y("dropdown-item-text"),onclick:u},b),c):(h=h?a.default.tags[h]:s)(o({class:y("dropdown-item"),role:"button"},b),c))}var $=["class","sticky","menu","t"],ee=["href","label","icon","items","level","Comp","hidden","t"],te=["label","class","active","disabled","divider","level"],ne=["label","items","t","level"],ae=a.default.tags,oe=ae.div,re=ae.button,le=ae.hr,ie=ae.span,se=ae.nav,ue=ae.a,ce=ae.ul,de=ae.li;function ve(e){var t=e.href,n=void 0===t?"#":t,l=e.label,i=e.icon,s=e.items,u=e.level,c=void 0===u?0:u,d=e.Comp,v=e.hidden,f=void 0!==v&&v,p=e.t,g=void 0===p?function(e){return e}:p,m=r(e,ee);return"function"==typeof f&&(f=f()),f?null:("function"==typeof l&&(l=l()),l=l?g(a.default.val(l)):"",m.title&&(m.title=g(a.default.val(m.title))),s?pe(o({label:l,items:s,level:c,t:g},m)):de({class:function(){var e="nav-item";return 0!==c&&(e=""),a.default.val(m.class)&&(e+=" "+a.default.val(m.class)),e}},d?d(o({href:n,label:l,icon:i,items:s,level:c,hidden:f,t:g},m)):fe(o({},m,{href:n,label:l,level:c}))))}function fe(e){var t=e.label,n=e.class,l=e.active,i=e.disabled,s=e.divider,u=e.level,c=void 0===u?0:u,d=r(e,te);return s?le({class:"dropdown-divider"}):ue(o({class:function(){var e="nav-link";return 0!==c&&(e="dropdown-item"),a.default.val(l)&&(e+=" active"),a.default.val(l)&&0===c&&(e+=" text-primary"),a.default.val(i)&&(e+=" disabled"),a.default.val(n)&&(e+=" "+a.default.val(n)),e},href:"#"},d),t)}function pe(e){var t=e.label,n=e.items,a=e.t,l=void 0===a?function(e){return e}:a,i=e.level,s=r(e,ne);return i>0?de({},ue({class:"dropdown-item",href:"#"},t+" Â»"),ce({class:"submenu dropdown-menu"},n.map(function(e){return ve(o({level:i+1,t:l},e))}))):de({class:"nav-item dropdown",id:"NavDropdown"+i},ue({class:"nav-link dropdown-toggle",href:"#","data-bs-toggle":"dropdown"},t),ce({class:"dropdown-menu"},n.map(function(e){return ve(o({level:i+1},e,{t:l},s))})))}function ge(e,t){for(var n in t)try{e[n]=t[n].constructor===Object?ge(e[n],t[n]):t[n]}catch(a){e[n]=t[n]}return e}var me=["attr","size","title"],he=["src","alt"],be=["size","style"],ye=["size"],we=["size"],xe=new Map,ke=0,De=new Map;function Se(e){if("string"!=typeof e)return!1;var t=xe.get(e);return!t&&ke>0&&!De.get(e)&&(console.warn("Get unknown icon",e),De.set(e,!0)),t}function Ie(e){var t;void 0===e&&(e={});var n=e.attr,l=e.size,i=e.title,s=r(e,me),u=l||"1em",c="";e.class&&(c+=(c?c+" ":"")+e.class);var d=e.color?"color: "+e.color+"; ":"";return e.style&&(d+=e.style),(t=a.default.tagsNS("http://www.w3.org/2000/svg")).svg.apply(t,[o({stroke:"currentColor",fill:"currentColor","stroke-width":"0"},n,s,{class:c,style:d,height:u,width:u}),i?a.default.tagsNS("http://www.w3.org/2000/svg").title(i):null].concat([].slice.call(arguments,1)))}function ze(e,t){return void 0===t&&(t={}),function(n){var a=void 0===n?{}:n,o=a.size,l=void 0===o?"1em":o,i=r(a,ye),s=document.createElement("div");return s.innerHTML=e,s=s.firstChild,i.width=l,i.height=l,Object.keys(t).forEach(function(e){return s.setAttribute(e,t[e])}),Object.keys(i).forEach(function(e){return s.setAttribute(e,i[e])}),s}}function Ce(e,t){var n=void 0===t?{}:t,l=n.size,i=r(n,we),s=Se(e);if(s){if("function"==typeof s)return s(o({size:l},i));e=s}if("function"==typeof e)return i.size=l,e(o({},i));if("string"==typeof e&&e.startsWith("fa"))return void 0!==l&&(i.style=i.style=o({},i.style||{},{fontSize:l})),i.class=i.class?i.class+" "+e:e,a.default.tags.i(o({},i));if("string"==typeof e&&e.startsWith("<svg "))return ze(e)(o({size:l},i));if("string"==typeof e){if(void 0!==l){var u="font-size:"+l+";";i.style&&(u+=i.style),i.style=u}return a.default.tags.span(o({},i),e)}var c="width:"+(l=void 0===l?"1em":l)+"; height:"+l+"; min-width:"+l+";";return i.style&&(c+=i.style),i.style=c,a.default.tags.div(o({},i))}function Oe(e,t){var n={dragProps:function(e){return{draggable:!0,ondragstart:n.onDragStart,ondrop:n.onDrop,ondragover:n.onDragOver,ondragleave:n.onDragLeave,"data-position":e}},isDropArea:function(e){return n.dragAndDrop&&n.dragAndDrop.draggedTo===Number(e)},onDragStart:function(t){var a=Number(t.currentTarget.dataset.position);n.setDragAndDrop(o({},n.dragAndDrop,{draggedFrom:a,isDragging:!0,originalOrder:e})),t.dataTransfer.setData("text/html","")},onDragOver:function(e){e.preventDefault();var t=n.dragAndDrop.originalOrder,a=n.dragAndDrop.draggedFrom,r=Number(e.currentTarget.dataset.position),l=t[a],i=t.filter(function(e,t){return t!==a});t=[].concat(i.slice(0,r),[l],i.slice(r)),r!==n.dragAndDrop.draggedTo&&n.setDragAndDrop(o({},n.dragAndDrop,{updatedOrder:t,draggedTo:r}))},onDrop:function(e){t(n.dragAndDrop.updatedOrder),n.setDragAndDrop(o({},n.dragAndDrop,{draggedFrom:null,draggedTo:null,isDragging:!1}))},onDragLeave:function(){n.setDragAndDrop(o({},n.dragAndDrop,{draggedTo:null}))},dragAndDrop:{draggedFrom:null,draggedTo:null,isDragging:!1,originalOrder:[],updatedOrder:[]},setDragAndDrop:function(e){return n.dragAndDrop=e}};return n}xe.set("SPACE",function(e){return Ce("â€",o({},e))});var Ae=["value","commaValue","options","oninput","onContextMenu","dragSort","delIcon","orderIcon","allowCreate","multi","bsSize","closeOnCheck","tagColor","style","placeholder","loading","tabindex","icons","t"],Me=["onChange"],Le=["class","bsSize"],Ee=["class","bsSize"],Pe=["Enter"," ",","],Te=function(e){return"string"==typeof e&&"-"===e[0]},je=function(e){return Te(e)?e.substring(1):e},He=function(e){return Ce("ðŸ—™",e)},Ne=function(e){return Ce("â˜’",e)},Fe=function(e){return Ce("â˜",e)},Re=function(e){return Ce(ze('<svg viewBox="0 0 576 512"><path d="M183.6 42.4C177.5 35.8 169 32 160 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L128 146.3V448c0 17.7 14.3 32 32 32s32-14.3 32-32V146.3l32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 320c0 17.7 14.3 32 32 32h50.7l-73.4 73.4c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H429.3l73.4-73.4c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8H352c-17.7 0-32 14.3-32 32zM416 32c-12.1 0-23.2 6.8-28.6 17.7l-64 128-16 32c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l7.2-14.3h88.4l7.2 14.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9l-16-32-64-128C439.2 38.8 428.1 32 416 32zM395.8 176L416 135.6 436.2 176H395.8z" /></svg>',o({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},e)))},Ve=function(e){return Ce(ze('<svg viewBox="0 0 576 512"><path d="M183.6 469.6C177.5 476.2 169 480 160 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L128 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 320c0-17.7 14.3-32 32-32H480c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9L429.3 416H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H352c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9L402.7 352H352c-17.7 0-32-14.3-32-32zM416 32c12.1 0 23.2 6.8 28.6 17.7l64 128 16 32c7.9 15.8 1.5 35-14.3 42.9s-35 1.5-42.9-14.3L460.2 224H371.8l-7.2 14.3c-7.9 15.8-27.1 22.2-42.9 14.3s-22.2-27.1-14.3-42.9l16-32 64-128C392.8 38.8 403.9 32 416 32zM395.8 176h40.4L416 135.6 395.8 176z" /></svg>',o({style:"vertical-align: bottom;",fill:"currentColor",stroke:"currenColor"},e)))},Be={remove:"remove",ascending:"ascending",descending:"descending",edplaceholder:"enter new tag"},We=a.default.tags,Ge=We.div,_e=We.span;function qe(e){var t=e.tagData;if(a.default.val(t.loading))return Ue({},Ge({class:"spinner-border spinner-border-sm "+t.tagColor.replace("-bg",""),role:"status"},_e({class:"visually-hidden"},"Loading...")));var n=!(!t.dragSort||!t.multi)&&Oe(t.listvalue.val,function(e){return t.saveItems(e)}),r=t.listvalue.val.map(function(e,a){return function(e){var t,n,a,r=e.tagData,l=e.item,i=e.idx,s=e.drag,u=(t=r.options,n=je(l),(a=t.find(function(e){return e.value===n}))&&(n=a.children),n),c={class:"badge "+r.tagColor+" me-1 my-1",style:"fontSize: 90%;"};s&&(c=o({},c,{style:c.style+"cursor: grab;"},s.dragProps(i)));var d,v=function(e){return Ge({class:e,role:"button",title:r.t("remove"),onclick:function(e){e.preventDefault(),e.stopPropagation(),r.checkItem(l,!1)}},r.icons.IconDelete)},f=[];return"left"===r.delIcon&&f.push(v("me-1")),f.push(u),r.orderIcon&&f.push((d=Te(l),Ge({class:"ms-1",role:"button",title:r.t(d?"descending":"ascending"),onclick:function(e){e.preventDefault(),e.stopPropagation(),r.onOrderClick(l,!d)}},d?r.icons.IconDsc:r.icons.IconAsc))),"right"===r.delIcon&&f.push(v("ms-1")),_e(o({},c),Ge.apply(void 0,[{class:"d-flex"}].concat(f)))}({tagData:t,item:e,idx:a,drag:n})});return 0===r.length&&t.placeholder&&(r="string"==typeof t.placeholder?[_e({class:"text-muted"},t.placeholder)]:[placeholder]),Ue.apply(void 0,[{tabindex:t.tabindex,onclick:function(e){e.preventDefault(),e.stopPropagation(),t.toggleDropdown()}}].concat(r))}function Ke(e){var t=e.onChange,n=r(e,Me),a="";return E({type:"text",value:a,bsSize:n.bsSize,placeholder:n.placeholder,oninput:function(e){a=e.target.value},onblur:function(){t(a)},onkeypress:function(e){Pe.includes(e.key)&&(e.preventDefault(),e.stopPropagation(),t(a),a="")}})}function Ue(e){var t=void 0===e?{}:e,n=t.class,l=t.bsSize,i=r(t,Le);return Ge.apply(void 0,[o({class:function(){var e="form-control";return a.default.val(l)&&(e+=" form-control-"+a.default.val(l)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},i)].concat([].slice.call(arguments,1)))}function Xe(e,t){return e=s(e),t.forEach(function(t){t=je(t),e.find(function(e){return e.value===t})||e.unshift({value:t,children:t,key:t})}),e}exports.Button=V,exports.CheckboxInput=function(e){return H(o({},e,{type:"checkbox"}))},exports.CloseButton=Y,exports.ComboboxInput=N,exports.ContextMenu=function(){var e=J.apply(void 0,[].slice.call(arguments)),t=X({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:e});e.addEventListener("click",function(){return t.close()});var n=t.open;return t.open=function(e){e.preventDefault(),e.stopPropagation(),n(e.clientX,e.clientY)},t},exports.DragSort=Oe,exports.DropdownMenu=Q,exports.FormBuilder=function(e){var t=void 0===e?{}:e,n=t.dom,l=R({values:t.values}),i=o({},l,{dom:null!=n?n:a.default.tags("form"),row:null,add:function(e,t){var n,s=e.name,u=e.value,c=e.oninput,d=r(e,y);void 0===u&&s&&(u=i.values[s]);var v=o({},d,l.args({name:s,value:u,oninput:c}));return a.default.add(null!=(n=null!=t?t:i.row)?n:i.dom,F(v)),i},addRow:function(e){return null===e?i.row=null:(i.row=S({class:"row"+(e?" "+e:"")}),a.default.add(i.dom,i.row),i)}});return i},exports.FormCheckInput=H,exports.FormController=R,exports.FormGroup=F,exports.FormLabel=P,exports.GenIcon=function(e){function t(e){return e&&e.map(function(e,n){return a.default.tagsNS("http://www.w3.org/2000/svg")[e.tag](o({},e.attr),t(e.child))})}return"svg"===e.tag?function(n){var r;return void 0===n&&(n={}),(r=a.default.tagsNS("http://www.w3.org/2000/svg")).svg.apply(r,[o({},e.attr,n)].concat(t(e.child)))}:function(n){return void 0===n&&(n={}),Ie.apply(void 0,[o({},e.attr,n)].concat(t(e.child)))}},exports.I18n=function(){var e={dict:{},language:"en",languageDefault:"en",setLanguage:function(t){e.language=String(t).toLowerCase(),e.dict[e.language]||(e.language=e.languageDefault)},getLanguage:function(){return e.language},t:function(t){if("function"==typeof t&&(t=t()),!t)return"";var n=function(e,t){try{t=t.split(".");for(var n=0;n<t.length;n++){if(!e)return e;e=e[t[n]]}}catch(e){return!1}return e}(e.dict[e.language],t);return n||(n=t.split(".").pop()),n},tPath:function(t){return t.endsWith(".")||(t+="."),function(n){return e.t(t+n)}},addWords:function(t,n,a){var o,r;a&&((o={})[a]=t,t=o),n&&((r={})[n]=t,t=r),ge(e.dict,t)}};return e},exports.Icon=Ce,exports.ImgIcon=function(e){var t=e.src,n=e.alt,l=r(e,he);return function(e){var i=void 0===e?{}:e,s=i.size,u=void 0===s?"1em":s,c=i.style,d=void 0===c?"":c,v=r(i,be);return a.default.tags.img(o({src:t,alt:n||t.split("/").pop(),style:d+"width:"+u+"; height:"+u+";"},l,v))}},exports.Input=E,exports.MenuItem=Z,exports.Modal=X,exports.ModalFrame=U,exports.NavItem=ve,exports.NavLink=fe,exports.NavMenu=pe,exports.Navbar=function(e){var t=e.class,n=e.sticky,l=void 0===n||n,i=e.menu,s=e.t,u=void 0===s?function(e){return e}:s;return r(e,$),se({class:function(){var e="navbar navbar-expand-lg bg-body-tertiary";return l&&(e+=" sticky-top"),a.default.val(t)&&(e+=" "+a.default.val(t)),e}},oe({class:"container-fluid"},i.brand,re({class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},ie({class:"navbar-toggler-icon"})),oe({class:"collapse navbar-collapse",id:"navbarSupportedContent"},ce({class:"me-auto navbar-nav"},i.items.map(function(e){return ve(o({},e,{t:u}))})))))},exports.PopupMenu=function(){var e=J.apply(void 0,[].slice.call(arguments)),t=X({close:!1,dialogstyle:"display: table; padding: 0;",bodystyle:"padding: 0;",body:e});return e.addEventListener("click",function(){return t.close()}),t},exports.PopupMenuFrame=J,exports.RadioInput=function(e){return H(o({},e,{type:"radio"}))},exports.RadioSelectInput=j,exports.SelectInput=T,exports.SvgIconBase=Ie,exports.SvgStrIcon=ze,exports.SwitchInput=function(e){return H(o({},e,{type:"switch"}))},exports.TagInput=function(e){var t,n,l,i=e.value,s=e.commaValue,u=void 0===s||s,c=e.options,d=void 0===c?[]:c,v=e.oninput,f=e.onContextMenu,p=e.dragSort,g=void 0===p||p,m=e.delIcon,h=void 0===m?"none":m,b=e.orderIcon,y=void 0!==b&&b,w=e.allowCreate,x=void 0===w||w,k=e.multi,D=void 0===k||k,S=e.bsSize,I=void 0===S?"":S,z=e.closeOnCheck,C=void 0!==z&&z,O=e.tagColor,A=e.style,M=e.placeholder,L=e.loading,E=e.tabindex,P=void 0===E?0:E,T=e.icons,j=e.t,H=r(e,Ae);"string"==typeof(i=a.default.val(i))&&(i=i.split(",")),i&&Array.isArray(i)||(i=[]),i=i.filter(function(e){return e}),A=(null!=(t=A)?t:"")+" heigt: auto;";var N={items:a.default.state(i),listvalue:a.default.state(i),options:Xe(d,i),onContextMenu:f,dragSort:g,delIcon:h,orderIcon:y,allowCreate:x,multi:D,closeOnCheck:C,bsSize:I,tagColor:O||"text-bg-primary",placeholder:M,loading:L,tabindex:P,icons:o({IconDelete:He,IconCheck:Ne,IconUncheck:Fe,IconAsc:Re,IconDsc:Ve},T||{}),t:j||function(e){var t;return null!=(t=Be[e])?t:e},checkItem:function(e,t){e=je(e),this.saveItems(this.multi?t?[].concat(this.items.val,[e]):this.items.val.filter(function(t){return je(t)!==e}):t?[e]:[])},saveItems:function(e){this.items.val=e,!this.isOpen&&v&&(this.listvalue.val=e,v({target:{name:H.name,value:u?e.join(","):e,type:"tagedit"}}))},checkAll:function(e,t){this.multi?this.saveItems(t?[].concat(this.options.map(function(e){return e.value})):[]):this.checkItem(e,t)},onOrderClick:function(e,t){var n=this.items.val.indexOf(e),a=Te(e);if(-1!==n&&t!==a){var o=[].concat(this.items.val);o[n]=t?"-"+e:e.substring(1),this.saveItems(o)}},newItem:function(e){e&&!this.items.val.some(function(t){return je(t)===e})&&(this.hideDropdown(),this.checkItem(e,!0))},showDropdown:function(){this.isOpen||this.toggleDropdown()},hideDropdown:function(){this.isOpen&&this.toggleDropdown()},toggleDropdown:function(){n.click()}};return n=V({dropdown:!0}),l=function(e){var t=e.tagData,n=t.options.map(function(e){return function(e){var t=e.tagData,n=e.item,a=t.multi&&!t.closeOnCheck?function(e){e.preventDefault(),e.stopPropagation()}:function(){},o=function(){return!!t.items.val.find(function(e){return je(e)===n.value})};return Z(""===n.value?{class:"py-0",divider:1}:{label:Ge({class:"d-flex align-items-center"},function(){return o()?t.icons.IconCheck({class:"me-1"}):t.icons.IconUncheck({class:"me-1"})},n.children),class:"py-0",onclick:function(e){a(e),e.ctrlKey?t.checkAll(n.value,!o()):t.checkItem(n.value,!o())},onkeydown:function(e){32===e.which&&(a(e),e.ctrlKey?t.checkAll(n.value,!o()):t.checkItem(n.value,!o()))}})}({tagData:t,item:e})});return t.allowCreate&&(n.unshift(Z({divider:1})),n.unshift(Z({text:!0,tag:"div",toggle:!1,label:Ke({bsSize:t.bsSize,tabIndex:"0",placeholder:t.t("edplaceholder"),onChange:function(e){return t.newItem(e)}})}))),Q.apply(void 0,n)}({tagData:N}),n.addEventListener("shown.bs.dropdown",function(e){N.isOpen=!0}),n.addEventListener("hidden.bs.dropdown",function(e){N.isOpen=!1,N.saveItems(N.items.val)}),function(e){var t=void 0===e?{}:e,n=t.class,l=t.bsSize,i=r(t,Ee);return Ge.apply(void 0,[o({class:function(){var e="input-group";return a.default.val(l)&&(e+=" input-group-"+a.default.val(l)),a.default.val(n)&&(e+=" "+a.default.val(n)),e}},i)].concat([].slice.call(arguments,1)))}(o({bsSize:I},H,{style:A}),qe({tagData:N}),n,l)},exports.getIcon=Se,exports.iconMap=xe,exports.selectOptions=s,exports.setIcon=function(e,t){ke>1&&xe.get(e)&&console.warn("Redefine icon",e),xe.set(e,t)},exports.setWarning=function(e){switch(e){case 0:case 1:case 2:ke=e;break;case"all":ke=2;break;case"get":ke=1;break;default:ke=0}},exports.typeMap=L,exports.version="vanjs-bootstrap 1.0.3 LICENSE MIT (c) 2023 by Geoffrey Emmans";
//# sourceMappingURL=lib.js.map
